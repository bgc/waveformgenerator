(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["scw-hard-generator-saw~scw-hard-generator-sine~scw-hard-generator-square~scw-hard-generator-tri~scw-~984c1b5a"],{ddd0:function(t,e,i){(function(e,i){t.exports=i()})(0,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}return i.m=t,i.c=e,i.p="",i(0)}([function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t["default"]:t},n=s(i(1));t.exports=n},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t:{default:t}},n=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};e.colors=w,e.context=k,e.clock=_,Object.defineProperty(e,"__esModule",{value:!0});var h=n(i(2)),a=n(i(5)),l=n(i(37)),u=n(i(39)),c=s(i(38)),f=i(28),d=i(40),v=i(27),p=i(26),m=i(25),b=n(i(41)),g=n(i(44)),y=function(){function t(e){for(var i in o(this,t),h)this[i]=h[i];for(var i in a)this[i]=a[i];var s={Rack:l},n={Counter:f,Radio:d,Drunk:v,Sequence:p,Matrix:m};for(var i in n)this[i]=n[i];for(var i in s)this[i]=s[i];var r=window.AudioContext||window.webkitAudioContext;for(var i in this._context=e||new r,this.tune=new u,this.note=this.tune.note.bind(this.tune),this.clock=new b(this._context),this.clock.start(),this.Interval=g,this.colors={accent:"#2bb",fill:"#eee",light:"#fff",dark:"#333",mediumLight:"#ccc",mediumDark:"#666"},this.transform=c,this.add=c.add,this.Add={},h)this.Add[i]=c.add.bind(this,i);var y=document.getElementsByTagName("style"),x="[nexus-ui]{height:5000px;width:5000px}",w=document.createElement("style");if(w.type="text/css",w.innerHTML=x,y.length>0){var k=y[0].parentNode;k.insertBefore(w,y[0])}else document.write("<style>"+x+"</style>")}return r(t,{context:{get:function(){return this._context},set:function(t){this.clock.stop(),this._context=t,this.clock=new b(this.context),this.clock.start()}}}),t}(),x=new y;function w(){return x.colors}function k(){return x.context}function _(){return x.clock}e["default"]=x},function(t,e,i){"use strict";t.exports={Position:i(3),Slider:i(14),Toggle:i(15),Button:i(16),TextButton:i(18),RadioButton:i(19),Number:i(20),Select:i(21),Dial:i(22),Piano:i(23),Sequencer:i(24),Pan2D:i(29),Tilt:i(30),Multislider:i(31),Pan:i(32),Envelope:i(33),Spectrogram:i(34),Meter:i(35),Oscilloscope:i(36)}},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t:{default:t}},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},o=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},h=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(4),l=i(6),u=i(11),c=s(i(12)),f=function(t){function e(){h(this,e);var t=["value"],i={size:[200,200],mode:"absolute",minX:0,maxX:1,stepX:0,x:.5,minY:0,maxY:1,stepY:0,y:.5};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this._x=new u(this.settings.minX,this.settings.maxX,this.settings.stepX,this.settings.x),this._y=new u(this.settings.minY,this.settings.maxY,this.settings.stepY,this.settings.y),this.position={x:new c.Handle(this.settings.mode,"horizontal",[0,this.width],[this.height,0]),y:new c.Handle(this.settings.mode,"vertical",[0,this.width],[this.height,0])},this.position.x.value=this._x.normalized,this.position.y.value=this._y.normalized,this.init(),this.render()}return o(e,t),n(e,{buildInterface:{value:function(){this.knob=a.create("circle"),this.element.appendChild(this.knob)}},sizeInterface:{value:function(){this.position.x.resize([0,this.width],[this.height,0]),this.position.y.resize([0,this.width],[this.height,0]),this._minDimension=Math.min(this.width,this.height),this.knobRadius={off:5*~~(this._minDimension/100)+5},this.knobRadius.on=2*this.knobRadius.off,this.knob.setAttribute("cx",this.width/2),this.knob.setAttribute("cy",this.height/2),this.knob.setAttribute("r",this.knobRadius.off)}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.fill,this.knob.setAttribute("fill",this.colors.accent)}},render:{value:function(){this.clicked?this.knob.setAttribute("r",this.knobRadius.on):this.knob.setAttribute("r",this.knobRadius.off),this.knobCoordinates={x:this._x.normalized*this.width,y:this.height-this._y.normalized*this.height},this.knob.setAttribute("cx",this.knobCoordinates.x),this.knob.setAttribute("cy",this.knobCoordinates.y)}},click:{value:function(){this.position.x.anchor=this.mouse,this.position.y.anchor=this.mouse,this.move()}},move:{value:function(){this.clicked&&(this.position.x.update(this.mouse),this.position.y.update(this.mouse),this._x.updateNormal(this.position.x.value),this._y.updateNormal(this.position.y.value),this.emit("change",{x:this._x.value,y:this._y.value}),this.render())}},release:{value:function(){this.render()}},x:{get:function(){return this._x.value},set:function(t){this._x.update(t),this.emit("change",{x:this._x.value,y:this._y.value}),this.render()}},y:{get:function(){return this._y.value},set:function(t){this._y.update(t),this.emit("change",{x:this._x.value,y:this._y.value}),this.render()}},normalized:{get:function(){return{x:this._x.normalized,y:this._y.normalized}}},minX:{get:function(){return this._x.min},set:function(t){this._x.min=t,this.render()}},minY:{get:function(){return this._y.min},set:function(t){this._y.min=t,this.render()}},maxX:{get:function(){return this._x.max},set:function(t){this._x.max=t,this.render()}},maxY:{get:function(){return this._y.max},set:function(t){this._y.max=t,this.render()}},stepX:{get:function(){return this._x.step},set:function(t){this._x.step=t,this.render()}},stepY:{get:function(){return this._y.step},set:function(t){this._y.step=t,this.render()}},mode:{get:function(){return this.position.x.mode},set:function(t){this.position.x.mode=t,this.position.y.mode=t}}}),e}(l);t.exports=f},function(t,e,i){"use strict";var s=i(5);t.exports={create:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},arc:function(t,e,i,n,r){var o=s.toCartesian(i,r),h=s.toCartesian(i,n),a=r-n<=180?"0":"1",l=["M",o.x+t,o.y+e,"A",i,i,0,a,0,h.x+t,h.y+e].join(" ");return l},radialGradient:function(t,e){var i="gradient"+s.ri(1e11),n=[],r=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");r.setAttribute("id",i),r.setAttribute("cx","50%"),r.setAttribute("cy","50%"),r.setAttribute("r","50%"),t.appendChild(r);for(var o=0;o<e;o++){var h=document.createElementNS("http://www.w3.org/2000/svg","stop");h.setAttribute("id","stop"+o),r.appendChild(h),n.push(h)}return{id:i,stops:n,element:r}}}},function(t,e){"use strict";e.clip=function(t,e,i){return Math.min(Math.max(t,e),i)},e.normalize=function(t,e,i){return(t-e)/(i-e)},e.scale=function(t,e,i,s,n){return e===i?s:(t-e)*(n-s)/(i-e)+s},e.toPolar=function(t,e){var i=Math.sqrt(t*t+e*e),s=Math.atan2(e,t);return s<0&&(s+=2*Math.PI),{radius:i,angle:s}},e.toCartesian=function(t,e){var i=Math.cos(e),s=Math.sin(e);return{x:t*i,y:t*s*-1}},e.prune=function(t,e){return parseFloat(t.toFixed(e))},e.invert=function(t){return e.scale(t,1,0,0,1)},e.mtof=function(t){return 440*Math.pow(2,(t-69)/12)},e.interp=function(t,e,i){return t*(i-e)+e},e.pick=function(){return arguments[~~(Math.random()*arguments.length)]},e.octave=function(t){return Math.pow(2,t)},e.ri=function(t,e){e||(e=t,t=0);var i=Math.min(t,e),s=Math.max(t,e);return Math.floor(Math.random()*(s-i)+i)},e.rf=function(t,e){e||(e=t,t=0);var i=Math.min(t,e),s=Math.max(t,e);return Math.random()*(s-i)+i},e.cycle=function(t,e,i){return t++,t>=i&&(t=e),t},e.average=function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e/t.length},e.distance=function(t,e,i,s){var n=t-i,r=e-s;return Math.sqrt(n*n+r*r)},e.gainToDB=function(t){return 20*Math.log10(t)},e.coin=function(){var t=void 0===arguments[0]?.5:arguments[0];return e.rf(0,1)<t?1:0}},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(4),a=i(7),l=i(8),u=i(9),c=i(10),f=i(1).colors,d=function(t){function e(t,i,s){o(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.type=this.constructor.name,this.settings=this.parseSettings(t,i,s),this.mouse={},this.wait=!1,this.colors={};var r=f();this.colors.accent=r.accent,this.colors.fill=r.fill,this.colors.light=r.light,this.colors.dark=r.dark,this.colors.mediumLight=r.mediumLight,this.colors.mediumDark=r.mediumDark}return r(e,t),s(e,{parseSettings:{value:function(t,e,i){e.unshift("target"),i.defaultSize=i.size.splice(0,2),i.size=!1;var s={target:document.body,colors:{},snapWithParent:!0,event:function(){},component:!1};for(var n in i)s[n]=i[n];for(var r=0;r<t.length;r++){var o=t[r];if(l.isObject(o))for(var n in o)s[n]=o[n];else if("function"===typeof o)s.event=o;else if(e.length>=1){n=e.splice(0,1)[0];s[n]=o}}return this.parent=a.parseElement(s.target),this.parent&&this.parent instanceof HTMLElement&&!s.component&&(this.parent.hasAttribute("nexus-ui")||this.parent.setAttribute("nexus-ui","")),s.size&&Array.isArray(s.size)&&s.snapWithParent?(this.width=s.size[0],this.height=s.size[1],this.parent.style.width=this.width+"px",this.parent.style.height=this.height+"px"):s.snapWithParent&&!s.component?(this.width=parseFloat(window.getComputedStyle(this.parent,null).getPropertyValue("width").replace("px","")),this.height=parseFloat(window.getComputedStyle(this.parent,null).getPropertyValue("height").replace("px","")),5e3==this.width&&(this.width=s.defaultSize[0],this.parent.style.width=this.parent.width=this.width+"px"),5e3==this.height&&(this.height=s.defaultSize[1],this.parent.style.height=this.parent.height=this.height+"px")):(s.size=s.defaultSize,this.width=s.size[0],this.height=s.size[1]),s.event?this.event=this.on("change",s.event):this.event=!1,s}},init:{value:function(){this.buildFrame(),this.buildInterface(),this.sizeInterface(),this.attachListeners(),this.colorInterface(),this.finalTouches()}},buildFrame:{value:function(){this.element=h.create("svg"),this.element.setAttribute("width",this.width),this.element.setAttribute("height",this.height),this.parent.appendChild(this.element)}},buildInterface:{value:function(){}},sizeInterface:{value:function(){}},colorInterface:{value:function(){}},attachListeners:{value:function(){var t=this;this.interactionTarget=this.interactionTarget||this.element,u.exists&&(this.interactionTarget.addEventListener("touchstart",function(e){return t.preTouch(e)}),this.interactionTarget.addEventListener("touchmove",function(e){return t.preTouchMove(e)}),this.interactionTarget.addEventListener("touchend",function(e){return t.preTouchRelease(e)})),this.boundPreMove=function(e){return t.preMove(e)},this.boundPreRelease=function(e){return t.preRelease(e)},this.interactionTarget.addEventListener("mousedown",function(e){return t.preClick(e)})}},finalTouches:{value:function(){this.element.style.cursor="pointer"}},preClick:{value:function(t){this.element instanceof HTMLElement&&(this.width=window.getComputedStyle(this.element,null).getPropertyValue("width").replace("px","")),this.offset=a.findPosition(this.element),this.mouse=a.locateMouse(t,this.offset),this.clicked=!0,this.click(),this.moveEvent=document.addEventListener("mousemove",this.boundPreMove),this.releaseEvent=document.addEventListener("mouseup",this.boundPreRelease),this.emit("click"),t.preventDefault(),t.stopPropagation()}},preMove:{value:function(t){var e=this;this.wait||(this.mouse=a.locateMouse(t,this.offset),this.move(),this.wait=!0,setTimeout(function(){e.wait=!1},25)),t.preventDefault(),t.stopPropagation()}},preRelease:{value:function(t){this.mouse=a.locateMouse(t,this.offset),this.clicked=!1,this.release(),this.emit("release"),document.removeEventListener("mousemove",this.boundPreMove),document.removeEventListener("mouseup",this.boundPreRelease),t.preventDefault(),t.stopPropagation()}},click:{value:function(){}},move:{value:function(){}},release:{value:function(){}},preTouch:{value:function(t){this.element instanceof HTMLElement&&(this.width=window.getComputedStyle(this.element,null).getPropertyValue("width").replace("px","")),this.offset=a.findPosition(this.element),this.mouse=a.locateTouch(t,this.offset),this.clicked=!0,this.touch(t),this.emit("click"),t.preventDefault(),t.stopPropagation()}},preTouchMove:{value:function(t){this.clicked&&(this.mouse=a.locateTouch(t,this.offset),this.touchMove(),t.preventDefault(),t.stopPropagation())}},preTouchRelease:{value:function(t){this.mouse=a.locateTouch(t,this.offset),this.clicked=!1,this.touchRelease(),this.emit("release"),t.preventDefault(),t.stopPropagation()}},touch:{value:function(){this.click()}},touchMove:{value:function(){this.move()}},touchRelease:{value:function(){this.release()}},resize:{value:function(t,e){this.width=t,this.height=e,this.parent.style.width=this.width+"px",this.parent.style.height=this.height+"px",this.element.setAttribute("width",this.width),this.element.setAttribute("height",this.height),this.sizeInterface()}},empty:{value:function(){while(this.element.lastChild)this.element.removeChild(this.element.lastChild)}},destroy:{value:function(){this.empty(),this.parent.removeChild(this.element),this.removeAllListeners(),this.instrument&&delete this.instrument[this.id],this.customDestroy()}},customDestroy:{value:function(){}},colorize:{value:function(t,e){this.colors[t]=e,this.colorInterface()}}}),e}(c);t.exports=d},function(t,e){"use strict";e.findPosition=function(t){var e=t.getBoundingClientRect(),i=e.top+window.scrollY,s=e.left+window.scrollX;return{top:i,left:s}},e.parseElement=function(t){return"string"===typeof t&&(t=document.getElementById(t.replace("#",""))),t instanceof HTMLElement||t instanceof SVGElement?t:"No valid parent argument"},e.locateMouse=function(t,e){return{x:t.pageX-e.left,y:t.pageY-e.top}},e.locateTouch=function(t,e){return{x:!!t.targetTouches.length&&t.targetTouches[0].pageX-e.left,y:!!t.targetTouches.length&&t.targetTouches[0].pageY-e.top}},e.SmartCanvas=function(t){var e=this;this.element=document.createElement("canvas"),this.context=this.element.getContext("2d"),t.appendChild(this.element),this.resize=function(t,i){e.element.width=2*t,e.element.height=2*i,e.element.style.width=t+"px",e.element.style.height=i+"px"}}},function(t,e){"use strict";e.isObject=function(t){return"object"===typeof t&&!Array.isArray(t)&&null!==t&&t instanceof SVGElement===!1&&t instanceof HTMLElement===!1}},function(t,e){"use strict";e.exists="ontouchstart"in document.documentElement},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(t){return"function"===typeof t}function n(t){return"number"===typeof t}function r(t){return"object"===typeof t&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!n(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,n,h,a,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(i=this._events[t],o(i))return!1;if(s(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1),i.apply(this,h)}else if(r(i))for(h=Array.prototype.slice.call(arguments,1),l=i.slice(),n=l.length,a=0;a<n;a++)l[a].apply(this,h);return!0},i.prototype.addListener=function(t,e){var n;if(!s(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,s(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(n=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"===typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!s(e))throw TypeError("listener must be a function");var i=!1;function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var i,n,o,h;if(!s(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,n=-1,i===e||s(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(h=o;h-- >0;)if(i[h]===e||i[h].listener&&i[h].listener===e){n=h;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],s(i))this.removeListener(t,i);else if(i)while(i.length)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?s(this._events[t])?[this._events[t]]:this._events[t].slice():[],e},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(s(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=i(5),o=function(){function t(){var e=void 0===arguments[0]?0:arguments[0],i=void 0===arguments[1]?1:arguments[1],s=void 0===arguments[2]?0:arguments[2],r=void 0===arguments[3]?0:arguments[3];n(this,t),this.min=e,this.max=i,this.step=s,this.value=r,this.changed=!1,this.oldValue=!1,this.update(this.value)}return s(t,{update:{value:function(t){return this.step?this.value=r.clip(Math.round((t-this.min)/this.step)*this.step+this.min,this.min,this.max):this.value=r.clip(t,this.min,this.max),this.oldValue!==this.value?(this.oldValue=this.value,this.changed=!0):this.changed=!1,this.value}},updateNormal:{value:function(t){return this.value=r.scale(t,0,1,this.min,this.max),this.update(this.value)}},normalized:{get:function(){return r.normalize(this.value,this.min,this.max)}}}),t}();t.exports=o},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t["default"]:t},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(e,"__esModule",{value:!0});var o=s(i(5)),h=s(i(13));e.Handle=function(){function t(){var e=void 0===arguments[0]?"absolute":arguments[0],i=void 0===arguments[1]?"vertical":arguments[1],s=void 0===arguments[2]?[0,100]:arguments[2],n=void 0===arguments[3]?[0,100]:arguments[3];r(this,t),this.mode=e,this.direction=i,this.previous=0,this.value=0,this.sensitivity=1,this.resize(s,n)}return n(t,{resize:{value:function(t,e){this.boundary={min:{x:t[0],y:e[0]},max:{x:t[1],y:e[1]},center:{x:(t[1]-t[0])/2+t[0],y:(e[1]-e[0])/2+e[0]}}}},anchor:{set:function(t){this._anchor=this.convertPositionToValue(t)},get:function(){return this._anchor}},update:{value:function(t){if("relative"===this.mode){var e=this.convertPositionToValue(t)-this.anchor;Math.abs(e)>.5&&(e=0),this.anchor=t,this.value=this.value+e*this.sensitivity}else this.value=this.convertPositionToValue(t);this.value=o.clip(this.value,0,1)}},convertPositionToValue:{value:function(t){switch(this.direction){case"radial":var e=o.toPolar(t.x-this.boundary.center.x,t.y-this.boundary.center.y);return e=e.angle/(2*Math.PI),e=(e-.25+1)%1,e;case"vertical":return o.scale(t.y,this.boundary.min.y,this.boundary.max.y,0,1);case"horizontal":return o.scale(t.x,this.boundary.min.x,this.boundary.max.x,0,1)}}}}),t}(),e.Button=function(){function t(){var e=void 0===arguments[0]?"button":arguments[0];r(this,t),this.mode=e,this.state=new h,this.paintbrush=!1}return n(t,{click:{value:function(){switch(this.mode){case"impulse":this.state.on(),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.state.off.bind(this),30),this.emit("change",this.state);break;case"button":this.turnOn(),this.emit("change",this.state);break;case"aftertouch":this.position={x:o.clip(this.mouse.x/this.width,0,1),y:o.clip(1-this.mouse.y/this.height,0,1)},this.turnOn(),this.emit("change",{state:this.state,x:this.position.x,y:this.position.y});break;case"toggle":this.flip(),this.emit("change",this.state);break}}},move:{value:function(){"aftertouch"===this.mode&&(this.position={x:o.clip(this.mouse.x/this.width,0,1),y:o.clip(1-this.mouse.y/this.height,0,1)},this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}),this.render())}},release:{value:function(){switch(this.mode){case"button":this.turnOff(),this.emit("change",this.state);break;case"aftertouch":this.turnOff(),this.position={x:this.mouse.x/this.width,y:1-this.mouse.y/this.height},this.emit("change",{state:this.state,x:this.position.x,y:this.position.y});break}}}}),t}()},function(t,e){"use strict";var i=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(e){s(this,t),this.state=e||!1}return i(t,{flip:{value:function(t){this.state=t||!1===t?t:!this.state}},on:{value:function(){this.state=!0}},off:{value:function(){this.state=!1}}}),t}();t.exports=n},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t:{default:t}},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},o=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},h=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(4),l=i(6),u=i(11),c=s(i(12)),f=function(t){function e(){h(this,e);var t=["min","max","value"],i={size:[120,20],mode:"relative",min:0,max:1,step:0,value:0};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.orientation="vertical",this._value=new u(this.settings.min,this.settings.max,this.settings.step,this.settings.value),this.position=new c.Handle(this.settings.mode,this.orientation,[0,this.width],[this.height,0]),this.position.value=this._value.normalized,this.init(),this.position.direction=this.orientation,this.emit("change",this.value)}return o(e,t),n(e,{buildInterface:{value:function(){this.bar=a.create("rect"),this.fillbar=a.create("rect"),this.knob=a.create("circle"),this.element.appendChild(this.bar),this.element.appendChild(this.fillbar),this.element.appendChild(this.knob)}},sizeInterface:{value:function(){this.width<this.height?this.orientation="vertical":this.orientation="horizontal",this.position&&this.position.resize([0,this.width],[this.height,0]);var t=void 0,e=void 0,i=void 0,s=void 0,n=void 0,r=void 0;this.knobData={level:0,r:0},"vertical"===this.orientation?(this.thickness=this.width/2,t=this.width/2,e=0,i=this.thickness,s=this.height,this.knobData.r=.8*this.thickness,this.knobData.level=s-this.knobData.r-this.normalized*(s-2*this.knobData.r),n="translate("+-1*this.thickness/2+",0)",r=i/2):(this.thickness=this.height/2,t=0,e=this.height/2,i=this.width,s=this.thickness,this.knobData.r=.8*this.thickness,this.knobData.level=this.normalized*(i-2*this.knobData.r)+this.knobData.r,n="translate(0,"+-1*this.thickness/2+")",r=s/2),this.bar.setAttribute("x",t),this.bar.setAttribute("y",e),this.bar.setAttribute("transform",n),this.bar.setAttribute("rx",r),this.bar.setAttribute("ry",r),this.bar.setAttribute("width",i),this.bar.setAttribute("height",s),"vertical"===this.orientation?(this.fillbar.setAttribute("x",t),this.fillbar.setAttribute("y",this.knobData.level),this.fillbar.setAttribute("width",i),this.fillbar.setAttribute("height",s-this.knobData.level)):(this.fillbar.setAttribute("x",0),this.fillbar.setAttribute("y",e),this.fillbar.setAttribute("width",this.knobData.level),this.fillbar.setAttribute("height",s)),this.fillbar.setAttribute("transform",n),this.fillbar.setAttribute("rx",r),this.fillbar.setAttribute("ry",r),"vertical"===this.orientation?(this.knob.setAttribute("cx",t),this.knob.setAttribute("cy",this.knobData.level)):(this.knob.setAttribute("cx",this.knobData.level),this.knob.setAttribute("cy",e)),this.knob.setAttribute("r",this.knobData.r)}},colorInterface:{value:function(){this.bar.setAttribute("fill",this.colors.fill),this.fillbar.setAttribute("fill",this.colors.accent),this.knob.setAttribute("fill",this.colors.accent)}},render:{value:function(){this.clicked||(this.knobData.r=.75*this.thickness),this.knob.setAttribute("r",this.knobData.r),"vertical"===this.orientation?(this.knobData.level=this.knobData.r+this._value.normalized*(this.height-2*this.knobData.r),this.knob.setAttribute("cy",this.height-this.knobData.level),this.fillbar.setAttribute("y",this.height-this.knobData.level),this.fillbar.setAttribute("height",this.knobData.level)):(this.knobData.level=this._value.normalized*(this.width-2*this.knobData.r)+this.knobData.r,this.knob.setAttribute("cx",this.knobData.level),this.fillbar.setAttribute("x",0),this.fillbar.setAttribute("width",this.knobData.level))}},click:{value:function(){this.knobData.r=.9*this.thickness,this.position.anchor=this.mouse,this.move()}},move:{value:function(){this.clicked&&(this.position.update(this.mouse),this._value.updateNormal(this.position.value),this.emit("change",this._value.value),this.render())}},release:{value:function(){this.render()}},normalized:{get:function(){return this._value.normalized}},value:{get:function(){return this._value.value},set:function(t){this._value.update(t),this.position.value=this._value.normalized,this.emit("change",this._value.value),this.render()}},min:{get:function(){return this._value.min},set:function(t){this._value.min=t}},max:{get:function(){return this._value.max},set:function(t){this._value.max=t}},step:{get:function(){return this._value.step},set:function(t){this._value.step=t}},mode:{get:function(){return this.position.mode},set:function(t){this.position.mode=t}}}),e}(l);t.exports=f},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(4),a=i(13),l=i(6),u=function(t){function e(){o(this,e);var t=["value"],i={size:[40,20],target:!1,state:!1};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this._state=new a(this.settings.state),this.init()}return r(e,t),s(e,{buildInterface:{value:function(){this.bar=h.create("rect"),this.knob=h.create("circle"),this.element.appendChild(this.bar),this.element.appendChild(this.knob)}},sizeInterface:{value:function(){this.height<this.width/2?this.knobSize=this.height/2:this.knobSize=this.width/4,this.bar.setAttribute("x",this.width/2-1.5*this.knobSize),this.bar.setAttribute("y",this.height/2-this.knobSize/2),this.bar.setAttribute("rx",this.knobSize/2),this.bar.setAttribute("ry",this.knobSize/2),this.bar.setAttribute("width",3*this.knobSize),this.bar.setAttribute("height",this.knobSize),this.knob.setAttribute("cx",this.width/2-this.knobSize),this.knob.setAttribute("cy",this.height/2),this.knob.setAttribute("r",this.knobSize)}},colorInterface:{value:function(){this.knob.setAttribute("fill",this.colors.accent),this.render()}},render:{value:function(){this.state?(this.knob.setAttribute("cx",this.width/2+this.knobSize),this.bar.setAttribute("fill",this.colors.accent)):(this.knob.setAttribute("cx",this.width/2-this.knobSize),this.bar.setAttribute("fill",this.colors.fill))}},click:{value:function(){this.flip(),this.render(),this.emit("change",this.state)}},state:{get:function(){return this._state.state},set:function(t){this._state.flip(t),this.emit("change",this.state),this.render()}},flip:{value:function(){this._state.flip(),this.render()}}}),e}(l);t.exports=u},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(4),a=i(17),l=function(t){function e(){o(this,e);var t=["mode"],i={size:[80,80],mode:"aftertouch",state:!1};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.mode=this.settings.mode,this.init(),this.render()}return r(e,t),s(e,{buildInterface:{value:function(){this.pad=h.create("circle"),this.element.appendChild(this.pad),this.interactionTarget=this.pad,this.defs=h.create("defs"),this.element.appendChild(this.defs),this.gradient=h.radialGradient(this.defs,2),this.gradient.stops[0].setAttribute("offset","30%"),this.gradient.stops[1].setAttribute("offset","100%")}},sizeInterface:{value:function(){this.pad.setAttribute("cx",this.width/2),this.pad.setAttribute("cy",this.height/2),this.pad.setAttribute("r",Math.min(this.width,this.height)/2-this.width/40),this.pad.setAttribute("stroke-width",this.width/20)}},colorInterface:{value:function(){this.gradient.stops[0].setAttribute("stop-color",this.colors.accent),this.gradient.stops[1].setAttribute("stop-color",this.colors.fill),this.render()}},render:{value:function(){this.state?("aftertouch"===this.mode?(this.pad.setAttribute("stroke","url(#"+this.gradient.id+")"),this.gradient.element.setAttribute("cx",100*this.position.x+"%"),this.gradient.element.setAttribute("cy",100*(1-this.position.y)+"%")):this.pad.setAttribute("stroke",this.colors.accent),this.pad.setAttribute("fill",this.colors.accent)):(this.pad.setAttribute("fill",this.colors.fill),this.pad.setAttribute("stroke",this.colors.mediumLight))}}}),e}(a);t.exports=l},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(4),a=i(5),l=i(13),u=i(6),c=function(t){function e(t,i,s){o(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s),this.mode=this.settings.mode||"button",this.position={x:0,y:0},this._state=new l(this.settings.state)}return r(e,t),s(e,{buildInterface:{value:function(){this.pad=h.create("circle"),this.pad.setAttribute("fill","#d18"),this.pad.setAttribute("stroke","#d18"),this.pad.setAttribute("stroke-width",4),this.element.appendChild(this.pad),this.interactionTarget=this.pad,this.sizeInterface()}},sizeInterface:{value:function(){this.pad.setAttribute("cx",this.width/2),this.pad.setAttribute("cy",this.height/2),this.pad.setAttribute("r",Math.min(this.width,this.height)/2-2)}},render:{value:function(){this.state?(this.pad.setAttribute("fill",this.colors.accent),this.pad.setAttribute("stroke",this.colors.accent)):(this.pad.setAttribute("fill",this.colors.fill),this.pad.setAttribute("stroke",this.colors.mediumLight))}},down:{value:function(t){switch(this.mode){case"impulse":this.turnOn(),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.turnOff.bind(this),30);break;case"button":this.turnOn();break;case"aftertouch":this.position={x:a.clip(this.mouse.x/this.width,0,1),y:a.clip(1-this.mouse.y/this.height,0,1)},this.turnOn();break;case"toggle":this.flip(t);break}}},bend:{value:function(t){"aftertouch"===this.mode&&(this.mouse=t||this.mouse,this.position={x:a.clip(this.mouse.x/this.width,0,1),y:a.clip(1-this.mouse.y/this.height,0,1)},this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}),this.render())}},up:{value:function(){switch(this.mode){case"button":this.turnOff();break;case"aftertouch":this.turnOff(),this.position={x:a.clip(this.mouse.x/this.width,0,1),y:a.clip(1-this.mouse.y/this.height,0,1)};break}}},click:{value:function(){this.down()}},move:{value:function(){this.bend()}},release:{value:function(){this.up()}},state:{get:function(){return this._state.state},set:function(t){this._state.flip(t),"aftertouch"===this.mode?this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}):this.emit("change",this.state),this.render()}},flip:{value:function(t){this._state.flip(t),"aftertouch"===this.mode?this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}):this.emit("change",this.state),this.render()}},turnOn:{value:function(t){this._state.on(),!1!==t&&("aftertouch"===this.mode?this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}):this.emit("change",this.state)),this.render()}},turnOff:{value:function(t){this._state.off(),!1!==t&&("aftertouch"===this.mode?this.emit("change",{state:this.state,x:this.position.x,y:this.position.y}):this.emit("change",this.state)),this.render()}}}),e}(u);t.exports=c},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(17),a=function(t){function e(){o(this,e);var t=["value"],i={size:[150,50],state:!1,text:"Play"};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this._text=this.settings.text,this.settings.alternate&&(this.settings.alternateText=this.settings.alternate,console.warn("'alternate' initiator is deprecated. Use 'alternateText' instead.")),this._alternateText=this.settings.alternateText,this.mode=this.settings.alternateText?"toggle":"button",this.init(),this.render(),this.state=this.settings.state}return r(e,t),s(e,{buildFrame:{value:function(){this.element=document.createElement("div"),this.parent.appendChild(this.element),this.textElement=document.createElement("div"),this.textElement.innerHTML=this._text,this.element.appendChild(this.textElement)}},buildInterface:{value:function(){}},colorInterface:{value:function(){this.element.style.color=this.colors.dark,this.render()}},sizeInterface:{value:function(){var t=this.height/3,e=this.width/(this._text.length+2);if(t=Math.min(t,e),this.alternateText){var i=this.width/(this.alternateText.length+2);t=Math.min(t,i)}var s="width: "+this.width+"px;";s+="height: "+this.height+"px;",s+="padding: "+(this.height-t)/2+"px 0px;",s+="box-sizing: border-box;",s+="text-align: center;",s+="font-family: inherit;",s+="font-weight: 700;",s+="opacity: 1;",s+="font-size:"+t+"px;",this.textElement.style.cssText=s,this.render()}},render:{value:function(){this.state?(this.element.style.backgroundColor=this.colors.accent,this.textElement.style.color=this.colors.fill,this.alternateText?this.textElement.innerHTML=this._alternateText:this.textElement.innerHTML=this._text):(this.element.style.backgroundColor=this.colors.fill,this.textElement.style.color=this.colors.dark,this.textElement.innerHTML=this._text)}},alternateText:{get:function(){return this._alternateText},set:function(t){this.mode=t?"toggle":"button",this._alternateText=t,this.render()}},text:{get:function(){return this._text},set:function(t){this._text=t,this.sizeInterface(),this.render()}}}),e}(h);t.exports=a},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(6),a=i(16),l=function(t){function e(){o(this,e);var t=["value"],i={size:[120,25],numberOfButtons:4,active:-1};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.buttons=[],this._numberOfButtons=this.settings.numberOfButtons,this.active=this.settings.active,this.init(),this.render()}return r(e,t),s(e,{buildFrame:{value:function(){this.element=document.createElement("div"),this.parent.appendChild(this.element)}},buildInterface:{value:function(){for(var t=0;t<this._numberOfButtons;t++){var e=document.createElement("span"),i=new a(e,{mode:"toggle",component:!0},this.update.bind(this,t));this.buttons.push(i),this.element.appendChild(e)}}},sizeInterface:{value:function(){for(var t=this.width/this._numberOfButtons,e=this.height,i=0;i<this._numberOfButtons;i++)this.buttons[i].resize(t,e)}},colorInterface:{value:function(){for(var t=0;t<this._numberOfButtons;t++)this.buttons[t].colors=this.colors,this.buttons[t].render()}},update:{value:function(t){this.buttons[t].state?this.select(t):this.deselect()}},render:{value:function(){for(var t=0;t<this.buttons.length;t++)t===this.active?this.buttons[t].turnOn(!1):this.buttons[t].turnOff(!1)}},select:{value:function(t){t>=0&&t<this.buttons.length&&(this.active=t,this.emit("change",this.active),this.render())}},deselect:{value:function(){this.active=-1,this.emit("change",this.active),this.render()}},numberOfButtons:{get:function(){return this._numberOfButtons},set:function(t){this._numberOfButtons=t;for(var e=0;e<this.buttons.length;e++)this.buttons[e].destroy();this.buttons=[],this.empty(),this.buildInterface()}}}),e}(h);t.exports=l},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(6),a=i(11),l=i(5),u=function(t){function e(){o(this,e);var t=["value"],i={size:[60,30],value:0,min:0,max:2e4,step:1};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this._value=new a(this.settings.min,this.settings.max,this.settings.step,this.settings.value),this.decimalPlaces=2,this.actual=0,this.max=this._value.max,this.min=this._value.min,this.step=this._value.step,this.init(),this.render()}return r(e,t),s(e,{buildFrame:{value:function(){this.element=document.createElement("input"),this.element.type="text",this.element.addEventListener("blur",function(){this.element.style.backgroundColor=this.colors.fill,this.element.style.color=this.colors.dark,this.element.value!==this.value&&(this.value=parseFloat(this.element.value),this.render())}.bind(this)),this.element.addEventListener("keydown",function(t){(t.which<48||t.which>57)&&189!==t.which&&190!==t.which&&8!==t.which&&t.preventDefault(),13===t.which&&(this.element.blur(),this.value=this.element.value,this.emit("change",this.value),this.render())}.bind(this)),this.parent.appendChild(this.element)}},sizeInterface:{value:function(){this._minDimension=Math.min(this.width,this.height);var t="width: "+this.width+"px;";t+="height: "+this.height+"px;",t+="background-color: #e7e7e7;",t+="color: #333;",t+="font-family: arial;",t+="font-weight: 500;",t+="font-size:"+this._minDimension/2+"px;",t+="border: none;",t+="outline: none;",t+="padding: "+this._minDimension/4+"px "+this._minDimension/4+"px;",t+="box-sizing: border-box;",t+="userSelect: text;",t+="mozUserSelect: text;",t+="webkitUserSelect: text;",this.element.style.cssText+=t,this.element.value=this.value}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.fill,this.element.style.color=this.colors.dark}},render:{value:function(){this.element.value=l.prune(this.value,this.decimalPlaces)}},click:{value:function(){this.hasMoved=!1,this.element.readOnly=!0,this.actual=this.value,this.initial={y:this.mouse.y},this.changeFactor=l.invert(this.mouse.x/this.width),console.log(this.changeFactor)}},move:{value:function(){if(this.hasMoved=!0,this.clicked){var t=this.actual-(this.mouse.y-this.initial.y)*(l.clip(this.max-this.min,0,1e3)/200)*Math.pow(this.changeFactor,2);this.value=t,this.render(),this._value.changed&&this.emit("change",this.value)}}},release:{value:function(){this.hasMoved?document.body.focus():(this.element.readOnly=!1,this.element.focus(),this.element.setSelectionRange(0,this.element.value.length),this.element.style.backgroundColor=this.colors.accent,this.element.style.color=this.colors.light)}},link:{value:function(t){var e=this;this.min=t.min,this.max=t.max,this.step=t.step,t.on("change",function(t){e.passiveUpdate(t)}),this.on("change",function(e){t.value=e}),this.value=t.value}},passiveUpdate:{value:function(t){this._value.update(t),this.render()}},value:{get:function(){return this._value.value},set:function(t){this._value.update(t),this.emit("change",this.value),this.render()}},min:{get:function(){return this._value.min},set:function(t){this._value.min=t}},max:{get:function(){return this._value.max},set:function(t){this._value.max=t}},step:{get:function(){return this._value.step},set:function(t){this._value.step=t}}}),e}(h);t.exports=u},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(6),a=function(t){function e(){o(this,e);var t=["value"],i={size:[100,30],options:["default","options"]};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this._selectedIndex=-1,this._value=!1,this._options=this.settings.options,this.init(),this.render()}return r(e,t),s(e,{buildFrame:{value:function(){this.element=document.createElement("select"),this.element.style.fontSize=this.height/2+"px",this.element.style.outline="none",this.element.style.highlight="none",this.element.style.width=this.width+"px",this.element.style.height=this.height+"px",this.boundRender=this.render.bind(this),this.element.addEventListener("change",this.boundRender),this.parent.appendChild(this.element)}},attachListeners:{value:function(){}},buildInterface:{value:function(){this.defineOptions()}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.fill,this.element.style.color=this.colors.dark,this.element.style.border="solid 0px "+this.colors.mediumLight}},render:{value:function(){this._value=this.element.options[this.element.selectedIndex].text,this._selectedIndex=this.element.selectedIndex,this.emit("change",{value:this._value,index:this._selectedIndex})}},click:{value:function(){}},move:{value:function(){}},release:{value:function(){}},defineOptions:{value:function(t){t&&(this._options=t);for(var e=this.element.options.length-1;e>=0;e--)this.element.remove(e);for(e=0;e<this._options.length;e++)this.element.options.add(new Option(this._options[e],e))}},value:{get:function(){return this._value},set:function(t){this._value=t;for(var e=0;e<this.element.options.length;e++)if(t===this.element.options[e].text){this.selectedIndex=e;break}}},selectedIndex:{get:function(){return this._selectedIndex},set:function(t){this._selectedIndex=t,this.element.selectedIndex=t,this.render()}},customDestroy:{value:function(){this.element.removeEventListener("change",this.boundRender)}}}),e}(h);t.exports=a},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t:{default:t}},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},o=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},h=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(4),l=i(5),u=i(6),c=i(11),f=s(i(12)),d=function(t){function e(){h(this,e);var t=["min","max","value"],i={size:[75,75],interaction:"radial",mode:"relative",min:0,max:1,step:0,value:0};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.interaction=this.settings.interaction,this._value=new c(this.settings.min,this.settings.max,this.settings.step,this.settings.value),this.position=new f.Handle(this.settings.mode,this.interaction,[0,this.width],[this.height,0]),this.init(),this.value=this._value.value,this.position.value=this._value.normalized,this.previousAngle=!1,this.emit("change",this.value)}return o(e,t),n(e,{buildInterface:{value:function(){this.background=a.create("circle"),this.screw=a.create("circle"),this.handle=a.create("path"),this.handle2=a.create("path"),this.handleFill=a.create("path"),this.handle2Fill=a.create("path"),this.handleLine=a.create("path"),this.element.appendChild(this.background),this.element.appendChild(this.handle),this.element.appendChild(this.handle2),this.element.appendChild(this.handleFill),this.element.appendChild(this.handle2Fill),this.element.appendChild(this.handleLine),this.element.appendChild(this.screw)}},sizeInterface:{value:function(){this.position.resize([0,this.width],[this.height,0]);var t={x:this.width/2,y:this.height/2},e=Math.min(this.width,this.height);this.background.setAttribute("cx",t.x),this.background.setAttribute("cy",t.y),this.background.setAttribute("r",e/2-e/40),this.screw.setAttribute("cx",t.x),this.screw.setAttribute("cy",t.y),this.screw.setAttribute("r",e/12);var i=this.value,s={start:1.5*Math.PI,end:l.clip(l.scale(i,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},n={start:2.5*Math.PI,end:l.clip(l.scale(i,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},r=a.arc(t.x,t.y,e/2-e/40,s.start,s.end),o=a.arc(t.x,t.y,e/2-e/40,n.start,n.end);this.handle.setAttribute("d",r),this.handle.setAttribute("stroke-width",e/20),this.handle.setAttribute("fill","none"),this.handle2.setAttribute("d",o),this.handle2.setAttribute("stroke-width",e/20),this.handle2.setAttribute("fill","none"),r+=" L "+t.x+" "+t.y,this.handleFill.setAttribute("d",r),this.handleFill.setAttribute("fill-opacity","0.3"),o+=" L "+t.x+" "+t.y,this.handle2Fill.setAttribute("d",o),this.handle2Fill.setAttribute("fill-opacity","0.3");var h=void 0;h=i<.5?s.end:n.end;var u=t.x+Math.cos(h)*(e/2),c=t.y+Math.sin(h)*(e/2)*-1;this.handleLine.setAttribute("d","M "+t.x+" "+t.y+" L "+u+" "+c),this.handleLine.setAttribute("stroke-width",e/20)}},colorInterface:{value:function(){this.background.setAttribute("fill",this.colors.fill),this.screw.setAttribute("fill",this.colors.accent),this.handle.setAttribute("stroke",this.colors.accent),this.handle2.setAttribute("stroke",this.colors.accent),this.handleFill.setAttribute("fill",this.colors.accent),this.handle2Fill.setAttribute("fill",this.colors.accent),this.handleLine.setAttribute("stroke",this.colors.accent)}},render:{value:function(){var t=this._value.normalized,e={x:this.width/2,y:this.height/2},i=Math.min(this.width,this.height),s={start:1.5*Math.PI,end:l.clip(l.scale(t,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},n={start:2.5*Math.PI,end:l.clip(l.scale(t,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},r=a.arc(e.x,e.y,i/2-i/40,s.start,s.end),o=a.arc(e.x,e.y,i/2-i/40,n.start,n.end);this.handle.setAttribute("d",r),this.handle2.setAttribute("d",o),r+=" L "+e.x+" "+e.y,this.handleFill.setAttribute("d",r),o+=" L "+e.x+" "+e.y,this.handle2Fill.setAttribute("d",o);var h=void 0;h=t<=.5?s.end:n.end;var u=e.x+Math.cos(h)*(i/2),c=e.y+Math.sin(h)*(i/2)*-1;this.handleLine.setAttribute("d","M "+e.x+" "+e.y+" L "+u+" "+c)}},click:{value:function(){"relative"===this.mode&&(this.previousAngle=!1),this.position.anchor=this.mouse,this.position.value=this._value.normalized,this.move()}},move:{value:function(){if(this.clicked){this.position.update(this.mouse);var t=this.position.value*Math.PI*2;t<0&&(t+=2*Math.PI),"relative"===this.mode&&!1!==this.previousAngle&&Math.abs(this.previousAngle-t)>2&&(t=this.previousAngle>3?2*Math.PI:0),this.previousAngle=t;var e=t/(2*Math.PI);this.value=this._value.updateNormal(e),"relative"===this.mode&&(this.position.value=e),this.emit("change",this._value.value),this.render()}}},release:{value:function(){}},value:{get:function(){return this._value.value},set:function(t){this._value.update(t),this.position.value=this._value.normalized,this.emit("change",this._value.value),this.render()}},min:{get:function(){return this._value.min},set:function(t){this._value.min=t}},max:{get:function(){return this._value.max},set:function(t){this._value.max=t}},step:{get:function(){return this._value.step},set:function(t){this._value.step=t}},mode:{get:function(){return this.position.mode},set:function(t){this.position.mode=t}},normalized:{get:function(){return this._value.normalized},set:function(t){this._value.updateNormal(t),this.emit("change",this.value)}}}),e}(u);t.exports=d},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(4),a=i(6),l=i(17),u=i(9),c=function(t){function e(){o(this,e);var t=["value","note","color"],i={size:[80,80],target:!1,mode:"button",value:0};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.note=this.settings.note,this.color=this.settings.color,this.colors={w:"#fff",b:"#666"},this.init(),this.render()}return r(e,t),s(e,{buildFrame:{value:function(){this.element=h.create("svg"),this.element.setAttribute("width",this.width),this.element.setAttribute("height",this.height),this.parent.appendChild(this.element)}},buildInterface:{value:function(){var t=this;this.pad=h.create("rect"),this.element.appendChild(this.pad),this.interactionTarget=this.pad,u.exists||(this.click=function(){t.piano.interacting=!0,t.piano.paintbrush=!t.state,t.down(t.piano.paintbrush)},this.pad.addEventListener("mouseover",function(){t.piano.interacting&&t.down(t.piano.paintbrush)}),this.move=function(){t.piano.interacting&&t.bend()},this.release=function(){t.piano.interacting=!1},this.pad.addEventListener("mouseup",function(){t.piano.interacting&&t.up()}),this.pad.addEventListener("mouseout",function(){t.piano.interacting&&t.up()}))}},sizeInterface:{value:function(){var t=0;this.pad.setAttribute("x",.5),this.pad.setAttribute("y",.5),this.width>2?this.pad.setAttribute("width",this.width-1):this.pad.setAttribute("width",this.width),this.height,this.pad.setAttribute("height",this.height),this.pad.setAttribute("rx",t),this.pad.setAttribute("ry",t)}},render:{value:function(){this.state?this.pad.setAttribute("fill",this.colors.accent):this.pad.setAttribute("fill",this.colors[this.color])}}}),e}(l),f=function(t){function e(){o(this,e);var t=["value"],i={size:[500,125],lowNote:24,highNote:60,mode:"button"};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.keyPattern=["w","b","w","b","w","w","b","w","b","w","b","w"],this.paintbrush=!1,this.mode=this.settings.mode,this.range={low:this.settings.lowNote,high:this.settings.highNote},this.range.size=this.range.high-this.range.low+1,this.keys=[],this.toggleTo=!1,this.init(),this.render()}return r(e,t),s(e,{buildFrame:{value:function(){this.element=document.createElement("div"),this.element.style.position="relative",this.element.style.borderRadius="0px",this.element.style.display="block",this.element.style.width="100%",this.element.style.height="100%",this.parent.appendChild(this.element)}},buildInterface:{value:function(){this.keys=[];for(var t=0;t<this.range.size;t++){var e=document.createElement("span"),i=(t+this.range.low)%this.keyPattern.length,s=new c(e,{component:!0,note:t+this.range.low,color:this.keyPattern[i],mode:this.mode},this.keyChange.bind(this,t+this.range.low));s.piano=this,u.exists&&(s.pad.index=t,s.preClick=s.preMove=s.preRelease=function(){},s.click=s.move=s.release=function(){},s.preTouch=s.preTouchMove=s.preTouchRelease=function(){},s.touch=s.touchMove=s.touchRelease=function(){}),this.keys.push(s),this.element.appendChild(e)}u.exists&&this.addTouchListeners()}},sizeInterface:{value:function(){for(var t=0,e=[],i=0;i<this.range.size;i++){e.push(t);var s=(i+this.range.low)%this.keyPattern.length,n=(i+1+this.range.low)%this.keyPattern.length;i+1+this.range.low>=this.range.high?t+=1:"w"===this.keyPattern[s]&&"w"===this.keyPattern[n]?t+=1:t+=.5}var r=t,o=1,h=(this.width-2*o)/r,a=(this.height-2*o)/2;for(i=0;i<this.keys.length;i++){var l=this.keys[i].parent;l.style.position="absolute",l.style.left=e[i]*h+o+"px","w"===this.keys[i].color?(l.style.top=o+"px",this.keys[i].resize(h,2*a)):(l.style.zIndex=1,l.style.top=o+"px",this.keys[i].resize(h,1.1*a))}}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.mediumLight;for(var t=0;t<this.keys.length;t++)this.keys[t].colors={w:this.colors.light,b:this.colors.dark,accent:this.colors.accent,border:this.colors.mediumLight},this.keys[t].colorInterface(),this.keys[t].render()}},keyChange:{value:function(t,e){var i={note:t};i.state="object"===typeof e?e.state:e,this.emit("change",i)}},render:{value:function(){}},addTouchListeners:{value:function(){var t=this;this.preClick=this.preMove=this.preRelease=function(){},this.click=this.move=this.release=function(){},this.preTouch=this.preTouchMove=this.preTouchRelease=function(){},this.touch=this.touchMove=this.touchRelease=function(){},this.currentElement=!1,this.element.addEventListener("touchstart",function(e){console.log("touchstart");var i=document.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY),s=t.keys[i.index];t.paintbrush=!s.state,s.down(t.paintbrush),t.currentElement=i.index,e.preventDefault(),e.stopPropagation()}),this.element.addEventListener("touchmove",function(e){var i=document.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY),s=t.keys[i.index];if(i.index!==t.currentElement){if(t.currentElement){var n=t.keys[t.currentElement];n.up()}s.down(t.paintbrush)}else s.bend();t.currentElement=i.index,e.preventDefault(),e.stopPropagation()}),this.element.addEventListener("touchend",function(e){var i=t.keys[t.currentElement];i.up(),t.interacting=!1,t.currentElement=!1,e.preventDefault(),e.stopPropagation()})}},setRange:{value:function(t,e){this.range.low=t,this.range.high=e,this.empty(),this.buildInterface()}},toggleKey:{value:function(t,e){this.keys[t-this.range.low].flip(e)}},toggleIndex:{value:function(t,e){this.keys[t].flip(e)}}}),e}(a);t.exports=f},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(4),a=i(7),l=i(6),u=i(17),c=i(25),f=i(28),d=i(9),v=function(t){function e(){o(this,e);var t=["value"],i={size:[80,80],target:!1,mode:"toggle",value:0};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.index=this.settings.index,this.row=this.settings.row,this.column=this.settings.column,this.matrix=this.settings.matrix,this.interacting=!1,this.paintbrush=!1,this.init(),this.render()}return r(e,t),s(e,{buildFrame:{value:function(){this.element=h.create("svg"),this.element.setAttribute("width",this.width),this.element.setAttribute("height",this.height),this.element.style.top="0px",this.element.style.left="0px",this.element.style.position="absolute",this.parent.appendChild(this.element)}},buildInterface:{value:function(){var t=this;this.pad=h.create("rect"),this.element.appendChild(this.pad),this.interactionTarget=this.pad,d.exists||(this.click=function(){t.matrix.interacting=!0,t.matrix.paintbrush=!t.state,t.down(t.matrix.paintbrush)},this.pad.addEventListener("mouseover",function(){t.matrix.interacting&&t.down(t.matrix.paintbrush)}),this.move=function(){},this.pad.addEventListener("mousemove",function(e){t.matrix.interacting&&(t.offset||(t.offset=a.findPosition(t.element)),t.mouse=a.locateMouse(e,t.offset),t.bend())}),this.release=function(){t.matrix.interacting=!1},this.pad.addEventListener("mouseup",function(){t.matrix.interacting&&t.up()}),this.pad.addEventListener("mouseout",function(){t.matrix.interacting&&t.up()}))}},sizeInterface:{value:function(){this.pad.setAttribute("x",1),this.pad.setAttribute("y",1),this.width>2?this.pad.setAttribute("width",this.width-2):this.pad.setAttribute("width",this.width),this.height>2?this.pad.setAttribute("height",this.height-2):this.pad.setAttribute("height",this.height),this.pad.setAttribute("fill",this.matrix.colors.fill)}},render:{value:function(){this.state?this.pad.setAttribute("fill",this.matrix.colors.accent):this.pad.setAttribute("fill",this.matrix.colors.fill)}}}),e}(u),p=function(t){function e(){o(this,e);var t=["value"],i={size:[400,200],mode:"toggle",rows:5,columns:10};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.active=-1,this.mode=this.settings.mode,this.interval=new Nexus.Interval(200,function(){},!1),this.matrix=new c(this.settings.rows,this.settings.columns),this.matrix.ui=this,this.stepper=new f(0,this.columns),this.init()}return r(e,t),s(e,{buildFrame:{value:function(){this.element=document.createElement("div"),this.element.style.position="relative",this.element.style.display="block",this.element.style.width="100%",this.element.style.height="100%",this.parent.appendChild(this.element),d.exists&&this.addTouchListeners()}},buildInterface:{value:function(){this.cells=[];for(var t=0;t<this.matrix.length;t++){var e=this.matrix.locate(t),i=document.createElement("span");i.style.position="absolute";var s=new v(i,{component:!0,index:t,row:e.row,column:e.column,mode:this.mode,matrix:this},this.keyChange.bind(this,t));d.exists&&(s.pad.index=t,s.preClick=s.preMove=s.preRelease=function(){},s.click=s.move=s.release=function(){},s.preTouch=s.preTouchMove=s.preTouchRelease=function(){},s.touch=s.touchMove=s.touchRelease=function(){}),this.cells.push(s),this.element.appendChild(i)}this.sizeInterface()}},sizeInterface:{value:function(){for(var t=this.width/this.columns,e=this.height/this.rows,i=0;i<this.cells.length;i++){var s=this.cells[i].parent;s.style.left=this.cells[i].column*t+"px",s.style.top=this.cells[i].row*e+"px",this.cells[i].resize(t,e)}}},colorInterface:{value:function(){for(var t=0;t<this.cells.length;t++)this.cells[t].render()}},update:{value:function(){var t=this;this.matrix.iterate(function(e,i,s){t.matrix.pattern[e][i]!==t.cells[s].state&&(t.matrix.pattern[e][i]>0?t.cells[s].turnOn():t.cells[s].turnOff())})}},keyChange:{value:function(t,e){var i=this.matrix.locate(t);this.matrix.pattern[i.row][i.column]=e;var s={row:i.row,column:i.column,state:e};this.emit("change",s)}},render:{value:function(){var t=this;this.stepper.value>=0&&this.matrix.iterate(function(e,i,s){i===t.stepper.value?(t.cells[s].pad.setAttribute("stroke",t.colors.mediumLight),t.cells[s].pad.setAttribute("stroke-width","1"),t.cells[s].pad.setAttribute("stroke-opacity","1")):t.cells[s].pad.setAttribute("stroke","none")})}},start:{value:function(t){this.interval.event=this.next.bind(this),t&&this.interval.ms(t),this.interval.start()}},stop:{value:function(){this.interval.stop()}},next:{value:function(){this.stepper.next(),this.emit("step",this.matrix.column(this.stepper.value).reverse()),this.render()}},addTouchListeners:{value:function(){var t=this;this.preClick=this.preMove=this.preRelease=function(){},this.click=this.move=this.release=function(){},this.preTouch=this.preTouchMove=this.preTouchRelease=function(){},this.touch=this.touchMove=this.touchRelease=function(){},this.currentElement=!1,this.element.addEventListener("touchstart",function(e){var i=document.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY),s=t.cells[i.index];t.paintbrush=!s.state,s.down(t.paintbrush),t.currentElement=i.index,e.preventDefault(),e.stopPropagation()}),this.element.addEventListener("touchmove",function(e){var i=document.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY),s=t.cells[i.index];if(i.index!==t.currentElement){if(t.currentElement>=0){var n=t.cells[t.currentElement];n.up()}s.down(t.paintbrush)}else s.bend();t.currentElement=i.index,e.preventDefault(),e.stopPropagation()}),this.element.addEventListener("touchend",function(e){var i=t.cells[t.currentElement];i.up(),t.interacting=!1,t.currentElement=!1,e.preventDefault(),e.stopPropagation()})}},rows:{get:function(){return this.matrix.rows},set:function(t){this.matrix.rows=t,this.empty(),this.buildInterface(),this.update()}},columns:{get:function(){return this.matrix.columns},set:function(t){this.matrix.columns=t,this.stepper.max=t,this.empty(),this.buildInterface(),this.update()}}}),e}(l);t.exports=p},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t["default"]:t},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=s(i(5)),h=s(i(26)),a=function(){function t(e,i){var s=this;r(this,t),this.pattern=[],this.create(e,i),this.toggle={cell:function(t,e){return s.pattern[e][t]=!s.pattern[e][t],s.ui&&s.ui.update(),s.pattern[e][t]},all:function(){s.iterate(function(t,e){s.toggle.cell(e,t)}),s.ui&&s.ui.update()},row:function(t){for(var e=0;e<s.columns;e++)s.toggle.cell(e,t);s.ui&&s.ui.update()},column:function(t){for(var e=0;e<s.rows;e++)s.toggle.cell(t,e);s.ui&&s.ui.update()}},this.set={cell:function(t,e,i){s.pattern[e][t]=i,s.ui&&s.ui.update()},all:function(t){s.pattern=t,s.ui&&s.ui.update()},row:function(t,e){s.pattern[t]=e,s.ui&&s.ui.update()},column:function(t,e){s.pattern.forEach(function(i,n){s.pattern[n][t]=e[n]}),s.ui&&s.ui.update()}},this.rotate={all:function(t){t||0===t||(t=1),t%=s.pattern[0].length,t<0&&(t=s.pattern[0].length+t);for(var e=0;e<s.rows;e++){var i=s.pattern[e].splice(s.pattern[e].length-t,t);s.pattern[e]=i.concat(s.pattern[e])}s.ui&&s.ui.update()},row:function(t,e){e||0===e||(e=1),e%=s.pattern[0].length,e<0&&(e=s.pattern[0].length+e);var i=s.pattern[t].splice(s.pattern[t].length-e,e);s.pattern[t]=i.concat(s.pattern[t]),s.ui&&s.ui.update()},column:function(t,e){e||0===e||(e=1),e%=s.pattern.length,e<0&&(e=s.pattern.length+e);var i=[];s.pattern.forEach(function(e){i.push(e[t])});var n=i.splice(i.length-e,e);i=n.concat(i),s.pattern.forEach(function(e,s){e[t]=i[s]}),s.ui&&s.ui.update()}},this.populate={all:function(t){var e=new h(t);s.iterate(function(t,i){s.pattern[t][i]=o.coin(e.next())}),s.ui&&s.ui.update()},row:function(){var t=void 0===arguments[0]?0:arguments[0],e=void 0===arguments[1]?1:arguments[1],i=new h(e);s.pattern[t].forEach(function(e,n){s.pattern[t][n]=o.coin(i.next())}),s.ui&&s.ui.update()},column:function(){var t=void 0===arguments[0]?0:arguments[0],e=void 0===arguments[1]?1:arguments[1],i=new h(e);s.pattern.forEach(function(e,n){s.pattern[n][t]=o.coin(i.next())}),s.ui&&s.ui.update()}},this.erase={all:function(){s.set.all(0)},row:function(t){s.set.row(t,0)},column:function(t){s.set.column(t,0)}}}return n(t,{create:{value:function(t,e){var i=this;this.pattern=[];for(var s=0;s<t;s++){var n=new Array(e);this.pattern.push(n)}this.iterate(function(t,e){i.pattern[t][e]=!1})}},iterate:{value:function(t,e){for(var i=0,s=0;s<this.rows;s++){e&&e(s);for(var n=0;n<this.columns;n++)t(s,n,i),i++}}},formatAsText:{value:function(){var t=this,e="";return this.iterate(function(i,s){e+=(t.pattern[i][s]?1:0)+" "},function(){e+="\n"}),e}},log:{value:function(){console.log(this.formatAsText())}},update:{value:function(t){this.pattern=t||this.pattern}},length:{get:function(){return this.rows*this.columns}},locate:{value:function(t){return{row:~~(t/this.columns),column:t%this.columns}}},indexOf:{value:function(t,e){return e+t*this.columns}},row:{value:function(t){var e=function(e){return t.apply(this,arguments)};return e.toString=function(){return t.toString()},e}(function(t){for(var e=[],i=0;i<this.columns;i++)e.push(this.pattern[t]?1:0);return e})},column:{value:function(t){var e=function(e){return t.apply(this,arguments)};return e.toString=function(){return t.toString()},e}(function(t){for(var e=[],i=0;i<this.rows;i++)e.push(this.pattern[i][t]?1:0);return e})},rows:{get:function(){return this.pattern.length},set:function(t){var e=this,i=this.pattern.slice(0);this.create(t,this.columns),this.iterate(function(t,s){i[t]&&i[t][s]&&(e.pattern[t][s]=i[t][s])})}},columns:{get:function(){return this.pattern[0].length},set:function(t){var e=this,i=this.pattern.slice(0);this.create(this.rows,t),this.iterate(function(t,s){i[t]&&i[t][s]&&(e.pattern[t][s]=i[t][s])})}}}),t}();t.exports=a},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t["default"]:t},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=s(i(5)),h=s(i(27)),a=function(){function t(){var e=void 0===arguments[0]?[0,10,20,30]:arguments[0],i=void 0===arguments[1]?"up":arguments[1],s=void 0!==arguments[2]&&arguments[2];r(this,t),this.values=e,Array.isArray(this.values)||(this.values=[this.values]),this._mode=i,this.position=s,this.drunkWalk=new h(0,this.values.length-1),this.startValues={up:0,down:this.values.length-1,drunk:~~(this.values.length/2),random:o.ri(this.values.length)},!1!==this.position?this.next=this[this._mode]:this.next=this.first}return n(t,{mode:{get:function(){return this._mode},set:function(t){"up"===t||"down"===t||"random"===t||"drunk"===t?(this._mode=t,this.position&&(this.next=this[this._mode])):console.error("The only modes currently allowed are: up, down, random, drunk")}},value:{get:function(){return this.values[this.position]},set:function(t){this.position=this.values.indexOf(t)}},first:{value:function(){return!1!==this.position?(this.next=this[this._mode],this.next()):(this.position=this.startValues[this._mode],this.next=this[this._mode],this.value)}},up:{value:function(){return this.position++,this.position%=this.values.length,this.value}},down:{value:function(){return this.position--,this.position<0&&(this.position=(this.position+this.values.length)%this.values.length),this.value}},random:{value:function(){return this.position=o.ri(0,this.values.length),this.value}},drunk:{value:function(){return this.drunkWalk.max=this.values.length,this.drunkWalk.value=this.position,this.position=this.drunkWalk.next(),this.value}}}),t}();t.exports=a},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t["default"]:t},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=s(i(5)),h=function(){function t(){var e=void 0===arguments[0]?0:arguments[0],i=void 0===arguments[1]?9:arguments[1],s=void 0===arguments[2]?0:arguments[2],n=void 0===arguments[3]?1:arguments[3],o=void 0!==arguments[4]&&arguments[4];r(this,t),this.min=e,this.max=i,this.value=s,this.increment=n,this.loop=o}return n(t,{next:{value:function(){return this.value+=o.pick(-1*this.increment,this.increment),this.value>this.max&&(this.loop?this.value=this.min:this.value=this.max-this.increment),this.value<this.min&&(this.loop?this.value=this.max:this.value=this.min+this.increment),this.value}}}),t}();t.exports=h},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t["default"]:t},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=s(i(5)),h=s(i(27)),a=function(){function t(){var e=void 0===arguments[0]?0:arguments[0],i=void 0===arguments[1]?10:arguments[1],s=void 0===arguments[2]?"up":arguments[2],n=void 0!==arguments[3]&&arguments[3];r(this,t),this.min=e,this.max=i,this.value=n,this.mode=s,this.drunkWalk=new h(this.min,this.max),!1!==this.value?this.next=this[this._mode]:this.next=this.first}return n(t,{mode:{set:function(t){"up"===t||"down"===t||"random"===t||"drunk"===t?(this._mode=t,this.value&&(this.next=this[this._mode])):console.error("The only modes currently allowed are: up, down, random, drunk")},get:function(){return this._mode}},first:{value:function(){return!1!==this.value?(this.next=this[this._mode],this.next()):(this.startValues={up:this.min,down:this.max,drunk:~~o.average(this.min,this.max),random:o.ri(this.min,this.max)},this.value=this.startValues[this._mode],this.next=this[this._mode],this.value)}},up:{value:function(){return this.value++,this.value>=this.max&&(this.value=this.min),this.value}},down:{value:function(){return this.value--,this.value<this.min&&(this.value=this.max),this.value}},random:{value:function(){return this.value=o.ri(this.min,this.max),this.value}},drunk:{value:function(){return this.drunkWalk.min=this.min,this.drunkWalk.max=this.max,this.drunkWalk.value=this.value,this.value=this.drunkWalk.next(),this.value}}}),t}();t.exports=a},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t:{default:t}},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},o=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},h=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(4),l=i(5),u=i(6),c=i(11),f=s(i(12)),d=function(t){function e(){h(this,e);var t=["range"],i={size:[200,200],range:.5,mode:"absolute",speakers:[[.5,.2],[.75,.25],[.8,.5],[.75,.75],[.5,.8],[.25,.75],[.2,.5],[.25,.25]]};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.value={x:new c(0,1,0,.5),y:new c(0,1,0,.5)},this.mode=this.settings.mode,this.position={x:new f.Handle(this.mode,"horizontal",[0,this.width],[this.height,0]),y:new f.Handle(this.mode,"vertical",[0,this.width],[this.height,0])},this.position.x.value=this.value.x.normalized,this.position.y.value=this.value.y.normalized,this.speakers=this.settings.speakers,this.range=this.settings.range,this.levels=[],this.init(),this.calculateLevels(),this.render()}return o(e,t),n(e,{buildInterface:{value:function(){this.knob=a.create("circle"),this.element.appendChild(this.knob),this.speakerElements=[];for(var t=0;t<this.speakers.length;t++){var e=a.create("circle");this.element.appendChild(e),this.speakerElements.push(e)}}},sizeInterface:{value:function(){this._minDimension=Math.min(this.width,this.height),this.knobRadius={off:3*~~(this._minDimension/100)+5},this.knobRadius.on=2*this.knobRadius.off,this.knob.setAttribute("cx",this.width/2),this.knob.setAttribute("cy",this.height/2),this.knob.setAttribute("r",this.knobRadius.off);for(var t=0;t<this.speakers.length;t++){var e=this.speakerElements[t],i=this.speakers[t];e.setAttribute("cx",i[0]*this.width),e.setAttribute("cy",i[1]*this.height),e.setAttribute("r",this._minDimension/20+5),e.setAttribute("fill-opacity","0")}this.position.x.resize([0,this.width],[this.height,0]),this.position.y.resize([0,this.width],[this.height,0]),this.calculateLevels(),this.render()}},colorInterface:{value:function(){this.element.style.backgroundColor=this.colors.fill,this.knob.setAttribute("fill",this.colors.mediumLight);for(var t=0;t<this.speakers.length;t++){var e=this.speakerElements[t];e.setAttribute("fill",this.colors.accent),e.setAttribute("stroke",this.colors.accent)}}},render:{value:function(){this.knobCoordinates={x:this.value.x.normalized*this.width,y:this.height-this.value.y.normalized*this.height},this.knob.setAttribute("cx",this.knobCoordinates.x),this.knob.setAttribute("cy",this.knobCoordinates.y)}},click:{value:function(){this.position.x.anchor=this.mouse,this.position.y.anchor=this.mouse,this.move()}},move:{value:function(){this.clicked&&(this.position.x.update(this.mouse),this.position.y.update(this.mouse),this.calculateLevels(),this.emit("change",this.levels),this.render())}},release:{value:function(){this.render()}},normalized:{get:function(){return{x:this.value.x.normalized,y:this.value.y.normalized}}},calculateLevels:{value:function(){var t=this;this.value.x.updateNormal(this.position.x.value),this.value.y.updateNormal(this.position.y.value),this.levels=[],this.speakers.forEach(function(e,i){var s=l.distance(e[0]*t.width,e[1]*t.height,t.position.x.value*t.width,(1-t.position.y.value)*t.height),n=l.clip(1-s/(t.range*t.width),0,1);t.levels.push(n),t.speakerElements[i].setAttribute("fill-opacity",n)})}},moveSource:{value:function(t,e){var i={x:t*this.width,y:e*this.height};this.position.x.update(i),this.position.y.update(i),this.calculateLevels(),this.emit("change",this.levels),this.render()}},moveSpeaker:{value:function(t,e,i){this.speakers[t]=[e,i],this.speakerElements[t].setAttribute("cx",e*this.width),this.speakerElements[t].setAttribute("cy",i*this.height),this.calculateLevels(),this.emit("change",this.levels),this.render()}}}),e}(u);t.exports=d},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(5),a=i(4),l=i(6),u=function(t){function e(){o(this,e);var t=["value"],i={size:[80,80]};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this._active=!0,this.init(),this.boundUpdate=this.update.bind(this),window.DeviceOrientationEvent?this.orientationListener=window.addEventListener("deviceorientation",this.boundUpdate,!1):(this._active=!1,this.colorInterface())}return r(e,t),s(e,{buildInterface:{value:function(){this.title=a.create("text"),this.circleX=a.create("circle"),this.circleY=a.create("circle"),this.circleZ=a.create("circle"),this.barX=a.create("path"),this.barY=a.create("path"),this.barZ=a.create("path"),this.barX2=a.create("path"),this.barY2=a.create("path"),this.barZ2=a.create("path"),this.barX.setAttribute("opacity","0.8"),this.barY.setAttribute("opacity","0.8"),this.barZ.setAttribute("opacity","0.8"),this.barX2.setAttribute("opacity","0.8"),this.barY2.setAttribute("opacity","0.8"),this.barZ2.setAttribute("opacity","0.8"),this.circleX.setAttribute("cx",3*this.width/12),this.circleX.setAttribute("cy",3*this.height/4),this.circleX.setAttribute("r",this.height/10),this.circleX.setAttribute("opacity","0.4"),this.circleY.setAttribute("cx",6*this.width/12),this.circleY.setAttribute("cy",3*this.height/4),this.circleY.setAttribute("r",this.height/10),this.circleY.setAttribute("opacity","0.4"),this.circleZ.setAttribute("cx",9*this.width/12),this.circleZ.setAttribute("cy",3*this.height/4),this.circleZ.setAttribute("r",this.height/10),this.circleZ.setAttribute("opacity","0.4"),this.barX.setAttribute("stroke-width",Math.round(this.height/30)),this.barY.setAttribute("stroke-width",Math.round(this.height/30)),this.barZ.setAttribute("stroke-width",Math.round(this.height/30)),this.barX.setAttribute("fill","none"),this.barY.setAttribute("fill","none"),this.barZ.setAttribute("fill","none"),this.barX2.setAttribute("stroke-width",Math.round(this.height/30)),this.barY2.setAttribute("stroke-width",Math.round(this.height/30)),this.barZ2.setAttribute("stroke-width",Math.round(this.height/30)),this.barX2.setAttribute("fill","none"),this.barY2.setAttribute("fill","none"),this.barZ2.setAttribute("fill","none"),this.title.setAttribute("x",this.width/2),this.title.setAttribute("y",this.height/3+7),this.title.setAttribute("font-size","15px"),this.title.setAttribute("font-weight","bold"),this.title.setAttribute("letter-spacing","2px"),this.title.setAttribute("opacity","0.7"),this.title.setAttribute("text-anchor","middle"),this.title.textContent="TILT",this.element.appendChild(this.circleX),this.element.appendChild(this.circleY),this.element.appendChild(this.circleZ),this.element.appendChild(this.barX),this.element.appendChild(this.barY),this.element.appendChild(this.barZ),this.element.appendChild(this.barX2),this.element.appendChild(this.barY2),this.element.appendChild(this.barZ2),this.element.appendChild(this.title)}},colorInterface:{value:function(){this._active?(this.element.style.backgroundColor=this.colors.accent,this.circleX.setAttribute("fill",this.colors.light),this.circleY.setAttribute("fill",this.colors.light),this.circleZ.setAttribute("fill",this.colors.light),this.circleX.setAttribute("stroke",this.colors.light),this.circleY.setAttribute("stroke",this.colors.light),this.circleZ.setAttribute("stroke",this.colors.light),this.barX.setAttribute("stroke",this.colors.light),this.barY.setAttribute("stroke",this.colors.light),this.barZ.setAttribute("stroke",this.colors.light),this.barX2.setAttribute("stroke",this.colors.light),this.barY2.setAttribute("stroke",this.colors.light),this.barZ2.setAttribute("stroke",this.colors.light),this.title.setAttribute("fill",this.colors.light)):(this.element.style.backgroundColor=this.colors.fill,this.circleX.setAttribute("fill",this.colors.mediumLight),this.circleY.setAttribute("fill",this.colors.mediumLight),this.circleZ.setAttribute("fill",this.colors.mediumLight),this.circleX.setAttribute("stroke",this.colors.mediumLight),this.circleY.setAttribute("stroke",this.colors.mediumLight),this.circleZ.setAttribute("stroke",this.colors.mediumLight),this.barX.setAttribute("stroke",this.colors.mediumLight),this.barY.setAttribute("stroke",this.colors.mediumLight),this.barZ.setAttribute("stroke",this.colors.mediumLight),this.barX2.setAttribute("stroke",this.colors.mediumLight),this.barY2.setAttribute("stroke",this.colors.mediumLight),this.barZ2.setAttribute("stroke",this.colors.mediumLight),this.title.setAttribute("fill",this.colors.mediumLight))}},update:{value:function(t){if(this._active){var e=t.beta,i=t.gamma,s=t.alpha;i=h.scale(i,-90,90,0,1),e=h.scale(e,-90,90,0,1),s=h.scale(s,0,360,0,1);var n={start:1.5*Math.PI,end:h.clip(h.scale(i,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},r={start:2.5*Math.PI,end:h.clip(h.scale(i,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},o=a.arc(this.circleX.cx.baseVal.value,this.circleX.cy.baseVal.value,this.circleX.r.baseVal.value,n.start,n.end),l=a.arc(this.circleX.cx.baseVal.value,this.circleX.cy.baseVal.value,this.circleX.r.baseVal.value,r.start,r.end);this.barX.setAttribute("d",o),this.barX2.setAttribute("d",l),n={start:1.5*Math.PI,end:h.clip(h.scale(e,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},r={start:2.5*Math.PI,end:h.clip(h.scale(e,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},o=a.arc(this.circleY.cx.baseVal.value,this.circleY.cy.baseVal.value,this.circleY.r.baseVal.value,n.start,n.end),l=a.arc(this.circleY.cx.baseVal.value,this.circleY.cy.baseVal.value,this.circleY.r.baseVal.value,r.start,r.end),this.barY.setAttribute("d",o),this.barY2.setAttribute("d",l),n={start:1.5*Math.PI,end:h.clip(h.scale(s,0,.5,1.5*Math.PI,.5*Math.PI),.5*Math.PI,1.5*Math.PI)},r={start:2.5*Math.PI,end:h.clip(h.scale(s,.5,1,2.5*Math.PI,1.5*Math.PI),1.5*Math.PI,2.5*Math.PI)},o=a.arc(this.circleZ.cx.baseVal.value,this.circleZ.cy.baseVal.value,this.circleZ.r.baseVal.value,n.start,n.end),l=a.arc(this.circleZ.cx.baseVal.value,this.circleZ.cy.baseVal.value,this.circleZ.r.baseVal.value,r.start,r.end),this.barZ.setAttribute("d",o),this.barZ2.setAttribute("d",l),this.emit("change",{x:i,y:e,z:s})}}},click:{value:function(){window.DeviceOrientationEvent&&(this.active=!this.active)}},active:{get:function(){return this._active},set:function(t){this._active=t,this.colorInterface()}},customDestroy:{value:function(){window.removeEventListener("deviceorientation",this.boundUpdate,!1)}}}),e}(l);t.exports=u},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(5),a=i(4),l=i(6),u=function(t){function e(){o(this,e);var t=["value"],i={size:[200,100],numberOfSliders:5,min:0,max:1,step:0,candycane:3,values:[.9,.8,.7,.6,.5,.4,.3,.2,.1],smoothing:0,mode:"bar"};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this._numberOfSliders=this.settings.numberOfSliders,this._min=this.settings.min,this._max=this.settings.max,this._step=this.settings.step,this._mode=this.settings.mode,this.values=this.settings.values,this.candycane=this.settings.candycane,this.sliderWidth=this.width/this.values.length,this.smoothing=this.settings.smoothing,this.init(),this.render()}return r(e,t),s(e,{buildInterface:{value:function(){"line"==this._mode?(this.line=a.create("polyline"),this.line.setAttribute("stroke-width",2),this.line.setAttribute("fill","none"),this.element.appendChild(this.line),this.fill=a.create("polyline"),this.fill.setAttribute("fill-opacity","0.2"),this.element.appendChild(this.fill),this.nodes=[],this.values.forEach(function(t,e){var i=a.create("circle");i.setAttribute("cx",this.getX(e)),i.setAttribute("cy",this.getY(t)),this.element.appendChild(i),this.nodes.push(i)}.bind(this))):(this.bars=[],this.caps=[],this.values.forEach(function(t,e){var i=a.create("rect"),s=this.getBarX(e),n=this.getY(t);i.setAttribute("x",s-.1),i.setAttribute("y",n),i.setAttribute("width",this.sliderWidth+.2),i.setAttribute("height",this.height),i.setAttribute("opacity",1-(e%this.candycane+1)/(this.candycane+1)),this.element.appendChild(i),this.bars.push(i);var r=a.create("rect");r.setAttribute("x",s-.1),r.setAttribute("y",n),r.setAttribute("width",this.sliderWidth+.2),r.setAttribute("height",5),this.element.appendChild(r),this.caps.push(r)}.bind(this)))}},getBarX:{value:function(t){return this.getX(t)-this.sliderWidth/2}},getX:{value:function(t){return t*this.sliderWidth+this.sliderWidth/2}},getY:{value:function(t){return h.scale(t,this._min,this._max,this.height,0)}},getValueFromY:{value:function(t){var e=h.scale(t,this.height,0,this._min,this._max);return this.adjustValueToStep(e)}},getIndexFromX:{value:function(t){return h.clip(Math.floor(t/this.width*this.values.length),0,this.values.length-1)}},adjustValueToStep:{value:function(t){if(!this._step)return t;var e=t%this._step;return t-=t%this._step,e>this._step/2&&(t+=this._step),t}},adjustAllValues:{value:function(){this.values.forEach(function(t,e){t=this.adjustValueToStep(t),this.values[e]=h.clip(t,this._min,this._max)}.bind(this))}},getNormalizedValues:{value:function(){this.normalizedValues=[],this.values.forEach(function(t){this.normalizedValues.push(h.scale(t,this._min,this._max,0,1))}.bind(this))}},colorInterface:{value:function(){var t=this;this.element.style.backgroundColor=this.colors.fill,"line"==this._mode?(this.line.setAttribute("stroke",this.colors.accent),this.fill.setAttribute("fill",this.colors.accent),this.nodes.forEach(function(e){e.setAttribute("fill",t.colors.accent)})):(this.bars.forEach(function(e){e.setAttribute("fill",t.colors.accent)}),this.caps.forEach(function(e){e.setAttribute("fill",t.colors.accent)}))}},sizeInterface:{value:function(){this.sliderWidth=this.width/this.values.length,"line"==this._mode&&this.nodes.forEach(function(t){var e=2+~~(Math.min(this.width,this.height)/50);e=Math.min(this.sliderWidth,e),t.setAttribute("r",e)}.bind(this)),this.render()}},render:{value:function(){var t=this;"line"==this._mode?function(){var e="0 "+t.getY(t.values[0])+", ";t.values.forEach(function(i,s){var n=t.getX(s),r=t.getY(i);e+=n+" "+r+", ",t.nodes[s].setAttribute("cx",t.getX(s)),t.nodes[s].setAttribute("cy",t.getY(i))}),e+=t.width+" "+t.getY(t.values[t.values.length-1]),t.line.setAttribute("points",e),e+=", "+t.width+" "+t.height+", ",e+="0 "+t.height,t.fill.setAttribute("points",e)}():this.values.forEach(function(e,i){t.bars[i].setAttribute("y",t.getY(e)),t.caps[i].setAttribute("y",t.getY(e))})}},click:{value:function(){this.hasMoved=!1,this.previousSlider=!1,this.move()}},move:{value:function(){if(this.clicked){if(this.mouse.x=h.clip(this.mouse.x,0,this.width),this.mouse.y=h.clip(this.mouse.y,0,this.height),this.hasMoved=!0,this.selectedSlider=this.getIndexFromX(this.mouse.x),this.values[this.selectedSlider]=this.getValueFromY(this.mouse.y),!1!==this.previousSlider){var t=Math.abs(this.previousSlider-this.selectedSlider);if(t>1)for(var e=Math.min(this.previousSlider,this.selectedSlider),i=Math.max(this.previousSlider,this.selectedSlider),s=this.values[e],n=this.values[i],r=e;r<i;r++)this.values[r]=h.interp((r-e)/t,s,n),this.values[r]=this.adjustValueToStep(this.values[r])}if(this.smoothing>0)for(var o=1;o<=this.smoothing;o++){var a=this.selectedSlider-o,l=this.selectedSlider+o;if(a>=1){var u=a-1>=0?a-1:0,c=a+1;this.values[a]=(this.values[u]+this.values[c])/2,this.values[a]=this.adjustValueToStep(this.values[a])}if(l<this.values.length-1){var f=l-1,d=l+1<this.values.length?l+1:this.values.length-1;this.values[l]=(this.values[f]+this.values[d])/2,this.values[l]=this.adjustValueToStep(this.values[l])}}this.previousSlider=this.selectedSlider,this.emit("change",this.values),this.render()}}},scan:{value:function(){}},update:{value:function(t,e){this.values[t]=this.adjustValueToStep(e),this.emit("change",{index:t,value:e})}},numberOfSliders:{get:function(){return this.values.length}},min:{get:function(){return this._min},set:function(t){this._min=t,this.adjustAllValues(),this.render()}},max:{get:function(){return this._max},set:function(t){this._max=t,this.adjustAllValues(),this.render()}},step:{get:function(){return this._step},set:function(t){this._step=t,this.adjustAllValues(),this.render()}},setSlider:{value:function(t,e){this.values[t]=this.adjustValueToStep(e),this.values[t]=h.clip(this.values[t],this._min,this._max),this.emit("change",{index:t,value:e})}},setAllSliders:{value:function(t){var e=this.values.length,i=t.length;this.values=t,this.adjustAllValues(),e!=i&&(this.empty(),this.buildInterface(),this.colorInterface()),this.sizeInterface()}}}),e}(l);t.exports=u},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t:{default:t}},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},o=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},h=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(4),l=i(5),u=i(6),c=i(11),f=s(i(12)),d=function(t){function e(){h(this,e);var t=["scale","value"],i={size:[120,20],orientation:"horizontal",mode:"relative",scale:[-1,1],step:0,value:0,hasKnob:!0};r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.orientation=this.settings.orientation,this.mode=this.settings.mode,this.hasKnob=this.settings.hasKnob,this.step=this.settings.step,this._value=new c(this.settings.scale[0],this.settings.scale[1],this.settings.step,this.settings.value),this.init(),this.position=new f.Handle(this.mode,this.orientation,[0,this.width],[this.height,0]),this.position.value=this._value.normalized,this.value=this._value.value,this.emit("change",this.value)}return o(e,t),n(e,{buildInterface:{value:function(){this.bar=a.create("rect"),this.knob=a.create("circle"),this.element.appendChild(this.bar),this.element.appendChild(this.knob)}},sizeInterface:{value:function(){this.position&&this.position.resize([0,this.width],[this.height,0]),this.width<this.height?this.orientation="vertical":this.orientation="horizontal";var t=void 0,e=void 0,i=void 0,s=void 0,n=void 0,r=void 0;this.knobData={level:0,r:0},"vertical"===this.orientation?(this.thickness=this.width/2,t=this.width/2,e=0,i=this.thickness,s=this.height,this.knobData.r=.8*this.thickness,this.knobData.level=s-this.knobData.r-this.normalized*(s-2*this.knobData.r),n="translate("+-1*this.thickness/2+",0)",r=i/2):(this.thickness=this.height/2,t=0,e=this.height/2,i=this.width,s=this.thickness,this.knobData.r=.8*this.thickness,this.knobData.level=this.normalized*(i-2*this.knobData.r)+this.knobData.r,n="translate(0,"+-1*this.thickness/2+")",r=s/2),this.bar.setAttribute("x",t),this.bar.setAttribute("y",e),this.bar.setAttribute("transform",n),this.bar.setAttribute("rx",r),this.bar.setAttribute("ry",r),this.bar.setAttribute("width",i),this.bar.setAttribute("height",s),"vertical"===this.orientation?(this.knob.setAttribute("cx",t),this.knob.setAttribute("cy",this.knobData.level)):(this.knob.setAttribute("cx",this.knobData.level),this.knob.setAttribute("cy",e)),this.knob.setAttribute("r",this.knobData.r)}},colorInterface:{value:function(){this.bar.setAttribute("fill",this.colors.fill),this.knob.setAttribute("fill",this.colors.accent),this.hasKnob||this.knob.setAttribute("fill","transparent")}},render:{value:function(){this.clicked||(this.knobData.r=.75*this.thickness),this.knob.setAttribute("r",this.knobData.r),"vertical"===this.orientation?(this.knobData.level=this.knobData.r+this._value.normalized*(this.height-2*this.knobData.r),this.knob.setAttribute("cy",this.height-this.knobData.level)):(this.knobData.level=this._value.normalized*(this.width-2*this.knobData.r)+this.knobData.r,this.knob.setAttribute("cx",this.knobData.level))}},click:{value:function(){this.knobData.r=.9*this.thickness,this.position.anchor=this.mouse,this.move()}},move:{value:function(){this.clicked&&(this.position.update(this.mouse),this.value=this._value.updateNormal(this.position.value),this.emit("change",{value:this.value,L:Math.pow(l.scale(this.value,-1,1,1,0),2),R:Math.pow(l.scale(this.value,-1,1,0,1),2)}))}},release:{value:function(){this.render()}},value:{get:function(){return this._value.value},set:function(t){this._value.update(t),this.position.value=this._value.normalized,this.emit("change",{value:this.value,L:Math.pow(l.scale(this.value,-1,1,1,0),2),R:Math.pow(l.scale(this.value,-1,1,0,1),2)}),this.render()}},normalized:{get:function(){return this._value.normalized}}}),e}(u);t.exports=d},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(5),a=i(4),l=i(6),u=function(t,e){this.x=t.x,this.y=t.y,this.xMin=t.xMin||0,this.xMax=t.xMax||1,this.yMin=t.yMin||0,this.yMax=t.yMax||1,this.envelope=e,this.element=a.create("circle"),this.element.setAttribute("fill",this.envelope.colors.accent),this.envelope.element.appendChild(this.element),this.resize=function(){var t=2+~~(Math.min(this.envelope.width,this.envelope.height)/50);this.element.setAttribute("r",t)},this.move=function(t,e){if(this.x=t||0===t?t:this.x,this.y=e||0===e?e:this.y,this.envelope.nodes.indexOf(this)>=0){var i=this.envelope.nodes.indexOf(this)-1,s=this.envelope.nodes.indexOf(this)+1,n=this.envelope.nodes[i],r=this.envelope.nodes[s],o=i>=0?n.x:0;o=o<this.xMin?this.xMin:o;var h=s<this.envelope.nodes.length?r.x:1;h=h>this.xMax?this.xMax:h,this.x<o&&(this.x=o),this.x>h&&(this.x=h),this.y<this.yMin&&(this.y=this.yMin),this.y>this.yMax&&(this.y=this.yMax)}this.location=this.getCoordinates(),this.element.setAttribute("cx",this.location.x),this.element.setAttribute("cy",this.location.y)},this.getCoordinates=function(){return{x:this.x*this.envelope.width,y:(1-this.y)*this.envelope.height}},this.move(this.x,this.y,!0),this.resize(),this.destroy=function(){this.envelope.element.removeChild(this.element),this.envelope.nodes.splice(this.envelope.nodes.indexOf(this),1)}},c=function(t){function e(){o(this,e);var t=["value"],i={size:[300,150],noNewPoints:!1,points:[{x:.1,y:.4},{x:.35,y:.6},{x:.65,y:.2},{x:.9,y:.4}]};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.points=this.settings.points,this.nodes=[],this.selected=!1,this.init()}return r(e,t),s(e,{buildInterface:{value:function(){var t=this;this.points.forEach(function(e){var i=new u(e,t);t.nodes.push(i)}),this.sortPoints(),this.line=a.create("polyline"),this.line.setAttribute("stroke-width",2),this.line.setAttribute("fill","none"),this.element.appendChild(this.line),this.fill=a.create("polyline"),this.fill.setAttribute("fill-opacity","0.2"),this.element.appendChild(this.fill)}},sizeInterface:{value:function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].resize(),this.nodes[t].move();this.render()}},colorInterface:{value:function(){var t=this;this.element.style.backgroundColor=this.colors.fill,this.line.setAttribute("stroke",this.colors.accent),this.fill.setAttribute("fill",this.colors.accent),this.nodes.forEach(function(e){e.element.setAttribute("fill",t.colors.accent)})}},render:{value:function(){this.calculatePath()}},calculatePoints:{value:function(){var t=this;this.points=[],this.nodes.forEach(function(e){t.points.push({x:e.x,y:e.y})})}},calculatePath:{value:function(){var t="0 "+this.nodes[0].location.y+", ";this.nodes.forEach(function(e){t+=e.location.x+" "+e.location.y+", "}),t+=this.width+" "+this.nodes[this.nodes.length-1].location.y,this.line.setAttribute("points",t),t+=", "+this.width+" "+this.height+", ",t+="0 "+this.height,this.fill.setAttribute("points",t)}},click:{value:function(){this.hasMoved=!1,this.selected=this.findNearestNode(),this.nodes[this.selected].move(this.mouse.x/this.width,1-this.mouse.y/this.height),this.scaleNode(this.selected),this.calculatePoints(),this.emit("change",this.points),this.render()}},move:{value:function(){this.clicked&&(this.mouse.x=h.clip(this.mouse.x,0,this.width),this.hasMoved=!0,this.nodes[this.selected].move(this.mouse.x/this.width,1-this.mouse.y/this.height),this.scaleNode(this.selected),this.calculatePoints(),this.emit("change",this.points),this.render())}},release:{value:function(){this.hasMoved||this.nodes[this.selected].destroy(),this.calculatePoints(),this.emit("change",this.points),this.render(),this.selected=null}},findNearestNode:{value:function(){for(var t=null,e=1e4,i=this.mouse.x/this.width,s=1-this.mouse.y/this.height,n=this.nodes,r=0;r<n.length;r++){var o=Math.sqrt(Math.pow(n[r].x-i,2)+Math.pow(n[r].y-s,2));o<e&&(e=o,t=r,i>n[r].x)}return!this.settings.noNewPoints&&e>.07&&(t=this.getIndexFromX(this.mouse.x/this.width),this.nodes.splice(t,0,new u({x:this.mouse.x/this.width,y:1-this.mouse.y/this.height},this)),this.hasMoved=!0),t}},getIndexFromX:{value:function(t){var e=this,i=0;return this.nodes.forEach(function(s,n){e.nodes[n].x<=t&&(i=n+1)}),i}},scaleNode:{value:function(t){var e=h.clip(this.nodes[t].x,0,1),i=h.clip(this.nodes[t].y,0,1);this.nodes[t].move(e,i)}},sortPoints:{value:function(){this.nodes.sort(function(t,e){return t.x>e.x})}},addPoint:{value:function(t,e){var i=this.nodes.length;this.sortPoints();for(var s=0;s<this.nodes.length;s++)if(t<this.nodes[s].x){i=s;break}this.nodes.splice(i,0,new u({x:t,y:e},this)),this.scaleNode(i),this.calculatePoints(),this.emit("change",this.points),this.render()}},scan:{value:function(t){var e=this.getIndexFromX(t),i=e-1;i<0&&(i=0),e>=this.nodes.length&&(e=this.nodes.length-1);var s=this.nodes[i],n=this.nodes[e],r=h.scale(t,s.x,n.x,0,1),o=h.interp(r,s.y,n.y);return this.emit("scan",o),o}},movePoint:{value:function(t,e,i){this.nodes[t].move(e,i),this.scaleNode(t),this.calculatePoints(),this.emit("change",this.points),this.render()}},adjustPoint:{value:function(t,e,i){this.nodes[t].move(this.nodes[t].x+e,this.nodes[t].y+i),this.scaleNode(t),this.calculatePoints(),this.emit("change",this.points),this.render()}},destroyPoint:{value:function(t){this.nodes[t].destroy(),this.calculatePoints(),this.emit("change",this.points),this.render()}},setPoints:{value:function(t){var e=this;while(this.nodes.length)this.nodes[0].destroy();t.forEach(function(t){e.addPoint(t.x,t.y)}),this.calculatePoints(),this.emit("change",this.points),this.render()}}}),e}(l);t.exports=c},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(7),a=i(6),l=i(1).context,u=function(t){function e(){o(this,e);var t=["scale","value"],i={size:[300,150]};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.context=l(),this.analyser=this.context.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),this.active=!0,this.source=!1,this.init()}return r(e,t),s(e,{buildFrame:{value:function(){this.canvas=new h.SmartCanvas(this.parent),this.element=this.canvas.element}},sizeInterface:{value:function(){this.canvas.resize(this.width,this.height)}},colorInterface:{value:function(){this.canvas.element.style.backgroundColor=this.colors.fill}},render:{value:function(){if(this.active&&requestAnimationFrame(this.render.bind(this)),this.analyser.getByteFrequencyData(this.dataArray),this.canvas.context.fillStyle=this.colors.fill,this.canvas.context.fillRect(0,0,this.canvas.element.width,this.canvas.element.height),this.source&&this.dataArray)for(var t=this.canvas.element.width/this.bufferLength,e=void 0,i=0,s=this.canvas.element.width/50,n=0;n<this.bufferLength;n+=s)e=Math.max.apply(null,this.dataArray.subarray(n,n+s)),e/=255,e*=this.canvas.element.height,this.canvas.context.fillStyle=this.colors.accent,this.canvas.context.fillRect(i,this.canvas.element.height-e,t*s,e),i+=t*s}},connect:{value:function(t){this.source&&this.disconnect(),this.source=t,this.source.connect(this.analyser),this.render()}},disconnect:{value:function(){this.source.disconnect(this.analyser),this.source=null}},click:{value:function(){this.active=!this.active,this.render()}},customDestroy:{value:function(){this.active=!1}}}),e}(a);t.exports=u},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(7),a=i(5),l=i(6),u=i(1).context,c=function(t){function e(){o(this,e);var t=["scale","value"],i={size:[30,100]};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.context=u(),this.channels=2,this.splitter=this.context.createChannelSplitter(this.channels),this.analysers=[];for(var s=0;s<this.channels;s++){var r=this.context.createAnalyser();this.splitter.connect(r,s),r.fftSize=1024,r.smoothingTimeConstant=1,this.analysers.push(r)}this.bufferLength=this.analysers[0].frequencyBinCount,this.dataArray=new Float32Array(this.bufferLength),this.active=!0,this.db=-1/0,this.init(),this.meterWidth=this.canvas.element.width/this.channels,this.render()}return r(e,t),s(e,{buildFrame:{value:function(){this.canvas=new h.SmartCanvas(this.parent),this.element=this.canvas.element}},sizeInterface:{value:function(){this.canvas.resize(this.width,this.height)}},colorInterface:{value:function(){this.canvas.element.style.backgroundColor=this.colors.fill}},render:{value:function(){this.active&&requestAnimationFrame(this.render.bind(this)),this.canvas.context.fillStyle=this.colors.fill,this.canvas.context.fillRect(0,0,this.canvas.element.width,this.canvas.element.height);for(var t=0;t<this.analysers.length;t++){if(this.source){this.analysers[t].getFloatTimeDomainData(this.dataArray);for(var e=0,i=0;i<this.dataArray.length;i++)e+=this.dataArray[i]*this.dataArray[i];e=Math.sqrt(e/this.dataArray.length),this.db=20*Math.log10(e)}else this.db>-200&&this.db!==-1/0?this.db-=1:this.db=-1/0;if(this.db>-70){var s=a.normalize(this.db,-70,5),n=s*s,r=a.scale(n,0,1,this.element.height,0);this.canvas.context.fillStyle=this.colors.accent,this.canvas.context.fillRect(this.meterWidth*t,r,this.meterWidth,this.canvas.element.height-r)}}}},connect:{value:function(t,e){this.source&&this.disconnect(),e?this.channels=e:t.channelCount?this.channels=t.channelCount:this.channels=2,this.meterWidth=this.canvas.element.width/this.channels,this.source=t,this.source.connect(this.splitter)}},disconnect:{value:function(){this.source.disconnect(this.splitter),this.source=!1,this.meterWidth=this.canvas.element.width/this.channels}},click:{value:function(){this.active=!this.active,this.render()}},customDestroy:{value:function(){this.active=!1}}}),e}(l);t.exports=c},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function t(e,i,s){var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,s)}if("value"in n&&n.writable)return n.value;var o=n.get;return void 0!==o?o.call(s):void 0},r=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=i(7),a=i(6),l=i(1).context,u=function(t){function e(){o(this,e);var t=["scale","value"],i={size:[300,150]};n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,arguments,t,i),this.context=l(),this.analyser=this.context.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.active=!0,this.source=!1,this.init(),this.render()}return r(e,t),s(e,{buildFrame:{value:function(){this.canvas=new h.SmartCanvas(this.parent),this.element=this.canvas.element}},sizeInterface:{value:function(){this.canvas.resize(this.width,this.height)}},colorInterface:{value:function(){this.canvas.element.style.backgroundColor=this.colors.fill}},render:{value:function(){if(this.active&&requestAnimationFrame(this.render.bind(this)),this.analyser.getByteTimeDomainData(this.dataArray),this.canvas.context.fillStyle=this.colors.fill,this.canvas.context.fillRect(0,0,this.canvas.element.width,this.canvas.element.height),this.canvas.context.lineWidth=~~(this.height/100+2),this.canvas.context.strokeStyle=this.colors.accent,this.canvas.context.beginPath(),this.source)for(var t=1*this.canvas.element.width/this.bufferLength,e=0,i=0;i<this.bufferLength;i++){var s=this.dataArray[i]/128,n=s*this.canvas.element.height/2;0===i?this.canvas.context.moveTo(e,n):this.canvas.context.lineTo(e,n),e+=t}else this.canvas.context.moveTo(0,this.canvas.element.height/2),this.canvas.context.lineTo(this.canvas.element.width,this.canvas.element.height/2);this.canvas.context.stroke()}},connect:{value:function(t){this.source&&this.disconnect(),this.source=t,this.source.connect(this.analyser),this.render()}},disconnect:{value:function(){this.source&&(this.source.disconnect(this.analyser),this.source=null)}},click:{value:function(){this.active=!this.active,this.render()}},customDestroy:{value:function(){this.active=!1}}}),e}(a);t.exports=u},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t["default"]:t},n=function(t){return t&&t.__esModule?t:{default:t}},r=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},h=n(i(38)),a=s(i(7)),l=i(1).colors,u=function(){function t(e,i){o(this,t),this.meta={},this.meta.target=e,this.meta.parent=a.parseElement(e),this.meta.colors={},i?(this.meta.attribute=i.attribute||"nexus-ui",this.meta.title=i.name||!1,this.meta.open=i.open||!1):(this.meta.attribute="nexus-ui",this.meta.title=!1,this.meta.open=!1);var s=l();this.meta.colors.accent=s.accent,this.meta.colors.fill=s.fill,this.meta.colors.light=s.light,this.meta.colors.dark=s.dark,this.meta.colors.mediumLight=s.mediumLight,this.meta.colors.mediumDark=s.mediumDark,this.buildInterface(),this.colorInterface()}return r(t,{buildInterface:{value:function(){var t=this;this.meta.parent.style.boxSizing="border-box",this.meta.parent.style.userSelect="none",this.meta.parent.style.mozUserSelect="none",this.meta.parent.style.webkitUserSelect="none",this.meta.contents=document.createElement("div");while(this.meta.parent.childNodes.length>0)this.meta.contents.appendChild(this.meta.parent.childNodes[0]);this.meta.contents.style.padding="0px",this.meta.contents.style.boxSizing="border-box",this.meta.title&&(this.meta.titleBar=document.createElement("div"),this.meta.titleBar.innerHTML=this.meta.title,this.meta.titleBar.style.fontFamily="arial",this.meta.titleBar.style.position="relative",this.meta.titleBar.style.color="#888",this.meta.titleBar.style.padding="7px",this.meta.titleBar.style.fontSize="12px",this.meta.button=document.createElement("div"),this.meta.button.style.position="absolute",this.meta.button.style.top="5px",this.meta.button.style.right="5px",this.meta.button.innerHTML="-",this.meta.button.style.padding="0px 5px 2px",this.meta.button.style.lineHeight="12px",this.meta.button.style.fontSize="15px",this.meta.button.style.cursor="pointer",this.meta.button.addEventListener("mouseover",function(){t.meta.button.style.backgroundColor=t.meta.colors.mediumDark}),this.meta.button.addEventListener("mouseleave",function(){t.meta.button.style.backgroundColor=t.meta.colors.mediumLight}),this.meta.button.addEventListener("click",function(){t.meta.open?t.hide():t.show()}),this.meta.titleBar.appendChild(this.meta.button),this.meta.parent.appendChild(this.meta.titleBar)),this.meta.parent.appendChild(this.meta.contents);var e=h.section(this.meta.target,this.meta.attribute);for(var i in e)this[i]=e[i]}},colorInterface:{value:function(){this.meta.title&&(this.meta.button.style.backgroundColor=this.meta.colors.mediumLight,this.meta.button.style.border="solid 0px "+this.meta.colors.fill,this.meta.parent.style.border="solid 1px "+this.meta.colors.mediumLight,this.meta.parent.style.backgroundColor=this.meta.colors.light,this.meta.titleBar.style.backgroundColor=this.meta.colors.fill)}},show:{value:function(){this.meta.contents.style.display="block",this.meta.open=!0}},hide:{value:function(){this.meta.contents.style.display="none",this.meta.open=!1}},colorize:{value:function(t,e){for(var i in this)this[i].colorize&&this[i].colorize(t,e);this.meta.colors[t]=e,this.colorInterface()}},empty:{value:function(){for(var t in this)this[t].destroy&&this[t].destroy()}}}),t}();t.exports=u},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t["default"]:t};Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(7)),r=s(i(2)),o=function(t,e){var i=t.type;return e[i]?e[i]++:e[i]=1,i+e[i]},h=function(t,e,i){i=i||{};for(var s=0;s<t.attributes.length;s++){var n=t.attributes[s];i[n.nodeName]=n.nodeValue}e=e[0].toUpperCase()+e.slice(1);var o=new r[e](t,i);return o.id=t.id,o},a=function(t,e){e=e||"nexus-ui";for(var i={},s=n.parseElement(t),a={},l=s.getElementsByTagName("*"),u=[],c=0;c<l.length;c++)u.push(l[c]);for(c=0;c<u.length;c++){var f=u[c].getAttribute(e);if(f){var d=!1;for(var v in r)f.toLowerCase()===v.toLowerCase()&&(d=v);console.log(d);var p=h(u[c],d);if(p.id)a[p.id]=p;else{var m=o(p,i);a[m]=p}}}return a},l=function(t,e,i){var s=document.createElement("div");return i=i||{},e=e?n.parseElement(e):document.body,e.appendChild(s),i.target=s,i.size&&(s.style.width=i.size[0]+"px",s.style.height=i.size[1]+"px"),h(s,t,i)};e.element=h,e.section=a,e.add=l},function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t["default"]:t},n=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=s(i(5)),h=function(){function t(){r(this,t),this.scale=[],this.mode={output:"frequency",input:"step"},this.etmajor=[261.62558,293.664764,329.627563,349.228241,391.995422,440,493.883301,523.25116],this.root=o.mtof(60),this.createScale(0,2,4,5,7,9,11)}return n(t,{note:{value:function(t,e){var i=void 0;return i="frequency"===this.mode.output?this.frequency(t,e):"ratio"===this.mode.output?this.ratio(t,e):"MIDI"===this.mode.output?this.MIDI(t,e):this.frequency(t,e),i}},frequency:{value:function(t,e){"midi"!==this.mode.input&&"MIDI"!==this.mode.input||(this.stepIn+=60);var i=Math.floor(t/this.scale.length);e&&(i+=e);var s=t%this.scale.length;while(s<0)s+=this.scale.length;var n=this.scale[s],r=this.root*n;return r*=Math.pow(2,i),r=Math.floor(1e11*r)/1e11,r}},ratio:{value:function(t,e){"midi"!==this.mode.input&&"MIDI"!==this.mode.input||(this.stepIn+=60);var i=Math.floor(t/this.scale.length);e&&(i+=e);var s=t%this.scale.length,n=Math.pow(2,i)*this.scale[s];return n=Math.floor(1e11*n)/1e11,n}},MIDI:{value:function(t,e){var i=this.frequency(t,e),s=69+12*Math.log(i/440)/Math.log(2);return s=Math.floor(1e9*s)/1e9,s}},createScale:{value:function(){for(var t=[],e=0;e<arguments.length;e++)t.push(o.mtof(60+arguments[e]));this.loadScaleFromFrequencies(t)}},createJIScale:{value:function(){this.scale=[];for(var t=0;t<arguments.length;t++)this.scale.push(arguments[t])}},loadScaleFromFrequencies:{value:function(t){this.scale=[];for(var e=0;e<t.length-1;e++)this.scale.push(t[e]/t[0])}},loadScale:{value:function(t){var e=this.scales[t].frequencies;this.loadScaleFromFrequencies(e)}},search:{value:function(t){var e=[];for(var i in this.scales)-1!==i.toLowerCase().indexOf(t.toLowerCase())&&e.push(i);return e}},chord:{value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.note(t[i]));return e}}}),t}();t.exports=h},function(t,e){"use strict";var i=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=void 0===arguments[0]?3:arguments[0];s(this,t),r<0&&(r=1),this.length=r,this.onVals=i,this.array=new Array(r).fill(0),i.length>0&&this.on.apply(this,i)}return i(t,{select:{value:function(t){return this.array.fill(0),this.array[t]=1,this.array}},flip:{value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var s=this.array;return e.length>0?e.forEach(function(t){t>s.length-1?console.warn("Warning: AnonRadio["+t+"] does not exist"):s[t]=s[t]?0:1}):s.forEach(function(t,e,i){i[e]=t?0:1}),s}},on:{value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var s=this.array;return e.length>0?e.forEach(function(t){t>s.length-1?console.warn("Warning: AnonRadio["+t+"] exceeds size of object"):(1===s[t]&&console.warn("Warning: AnonRadio["+t+"] was already on."),s[t]=1)}):s.fill(1),s}},off:{value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var s=this.array;return e.length>0?e.forEach(function(t){s[t]=0}):s.fill(0),s}}}),t}();t.exports=n},function(t,e,i){var s=i(42);t.exports=s,"undefined"!==typeof window&&(window.WAAClock=s)},function(t,e,i){(function(e){var i={toleranceLate:.1,toleranceEarly:.001},s=function(t,e,i){this.clock=t,this.func=i,this._cleared=!1,this.toleranceLate=t.toleranceLate,this.toleranceEarly=t.toleranceEarly,this._latestTime=null,this._earliestTime=null,this.deadline=null,this.repeatTime=null,this.schedule(e)};s.prototype.clear=function(){return this.clock._removeEvent(this),this._cleared=!0,this},s.prototype.repeat=function(t){if(0===t)throw new Error("delay cannot be 0");return this.repeatTime=t,this.clock._hasEvent(this)||this.schedule(this.deadline+this.repeatTime),this},s.prototype.tolerance=function(t){return"number"===typeof t.late&&(this.toleranceLate=t.late),"number"===typeof t.early&&(this.toleranceEarly=t.early),this._refreshEarlyLateDates(),this.clock._hasEvent(this)&&(this.clock._removeEvent(this),this.clock._insertEvent(this)),this},s.prototype.isRepeated=function(){return null!==this.repeatTime},s.prototype.schedule=function(t){this._cleared=!1,this.deadline=t,this._refreshEarlyLateDates(),this.clock.context.currentTime>=this._earliestTime?this._execute():this.clock._hasEvent(this)?(this.clock._removeEvent(this),this.clock._insertEvent(this)):this.clock._insertEvent(this)},s.prototype.timeStretch=function(t,e){this.isRepeated()&&(this.repeatTime=this.repeatTime*e);var i=t+e*(this.deadline-t);if(this.isRepeated())while(this.clock.context.currentTime>=i-this.toleranceEarly)i+=this.repeatTime;this.schedule(i)},s.prototype._execute=function(){!1!==this.clock._started&&(this.clock._removeEvent(this),this.clock.context.currentTime<this._latestTime?this.func(this):(this.onexpired&&this.onexpired(this),console.warn("event expired")),this.clock._hasEvent(this)||!this.isRepeated()||this._cleared||this.schedule(this.deadline+this.repeatTime))},s.prototype._refreshEarlyLateDates=function(){this._latestTime=this.deadline+this.toleranceLate,this._earliestTime=this.deadline-this.toleranceEarly};var n=t.exports=function(t,e){e=e||{},this.tickMethod=e.tickMethod||"ScriptProcessorNode",this.toleranceEarly=e.toleranceEarly||i.toleranceEarly,this.toleranceLate=e.toleranceLate||i.toleranceLate,this.context=t,this._events=[],this._started=!1};n.prototype.setTimeout=function(t,e){return this._createEvent(t,this._absTime(e))},n.prototype.callbackAtTime=function(t,e){return this._createEvent(t,e)},n.prototype.timeStretch=function(t,e,i){return e.forEach(function(e){e.timeStretch(t,i)}),e},n.prototype.start=function(){if(!1===this._started){var t=this;if(this._started=!0,this._events=[],"ScriptProcessorNode"===this.tickMethod){var i=256;this._clockNode=this.context.createScriptProcessor(i,1,1),this._clockNode.connect(this.context.destination),this._clockNode.onaudioprocess=function(){e.nextTick(function(){t._tick()})}}else if("manual"!==this.tickMethod)throw new Error("invalid tickMethod "+this.tickMethod)}},n.prototype.stop=function(){!0===this._started&&(this._started=!1,this._clockNode.disconnect())},n.prototype._tick=function(){var t=this._events.shift();while(t&&t._earliestTime<=this.context.currentTime)t._execute(),t=this._events.shift();t&&this._events.unshift(t)},n.prototype._createEvent=function(t,e){return new s(this,e,t)},n.prototype._insertEvent=function(t){this._events.splice(this._indexByTime(t._earliestTime),0,t)},n.prototype._removeEvent=function(t){var e=this._events.indexOf(t);-1!==e&&this._events.splice(e,1)},n.prototype._hasEvent=function(t){return-1!==this._events.indexOf(t)},n.prototype._indexByTime=function(t){var e,i=0,s=this._events.length;while(i<s)e=Math.floor((i+s)/2),this._events[e]._earliestTime<t?i=e+1:s=e;return i},n.prototype._absTime=function(t){return t+this.context.currentTime},n.prototype._relTime=function(t){return t-this.context.currentTime}}).call(e,i(43))},function(t,e){var i,s,n=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function h(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function a(t){if(s===clearTimeout)return clearTimeout(t);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{return s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:r}catch(t){i=r}try{s="function"===typeof clearTimeout?clearTimeout:o}catch(t){s=o}})();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&v())}function v(){if(!c){var t=h(d);c=!0;var e=u.length;while(e){l=u,u=[];while(++f<e)l&&l[f].run();f=-1,e=u.length}l=null,c=!1,a(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new p(t,e)),1!==u.length||c||h(v)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i in e){var s=e[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(t,e)}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=i(1).clock,o=function(){function t(e,i,s){n(this,t),this.rate=e,this.on=s,this.clock=r(),this.pattern=[1],this.index=0,this.event=i||function(){},this.on&&this.start()}return s(t,{_event:{value:function(t){this.event(t),this.index++}},stop:{value:function(){this.on=!1,this.interval.clear()}},start:{value:function(){this.on=!0,this.interval=this.clock.callbackAtTime(this._event.bind(this),this.clock.context.currentTime).repeat(this.rate/1e3).tolerance({early:.1,late:1})}},ms:{value:function(t){if(this.on){var e=t/this.rate;this.rate=t,this.clock.timeStretch(this.clock.context.currentTime,[this.interval],e)}else this.rate=t}}}),t}();t.exports=o}])})}}]);